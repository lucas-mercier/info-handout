<!DOCTYPE html>
<html  lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-145664552-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-145664552-1');
    </script>
    
      <title>Exercices</title>
    
      <link rel="stylesheet" href="_static/pygments.css">
      <link rel="stylesheet" href="_static/theme.css">
      
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>

      <!-- sphinx script_files -->
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

      
      <script src="_static/theme-vendors.js"></script>
      <script src="_static/theme.js" defer></script>
    
    <link rel="icon" href="_static/favicon.ico" type="image/x-icon" />
  <link rel="index" title="Index" href="genindex.html" />
  <link rel="search" title="Recherche" href="search.html" /> 
  </head>

  <body>
    <div id="app" class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="index.html" class="home-link">
    
      <span class="site-name">Le C pour l&#39;ingenieur</span>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="index.html#le-c-pour-l-ingenieur"
         class="nav-link ">
         Contenu
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#le-c-pour-l-ingenieur"
         class="nav-link ">
         Annexes
      </a>
    </div>
  



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="index.html#le-c-pour-l-ingenieur"
         class="nav-link ">
         Contenu
      </a>
    </div>
  
    <div class="nav-item">
      <a href="index.html#le-c-pour-l-ingenieur"
         class="nav-link ">
         Annexes
      </a>
    </div>
  



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Recherche rapide</span>
    <div class="searchformwrapper">
      <form class="search" action="search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Recherche" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#le-c-pour-l-ingenieur">Contenu</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="content/05-introduction.html" class="reference internal ">Introduction</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/07-programming.html" class="reference internal ">La programmation</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/10-foundations.html" class="reference internal ">Généralités du langage</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/15-numeration.html" class="reference internal ">Numération</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/17-operators.html" class="reference internal ">Opérateurs</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/20-datatype.html" class="reference internal ">Types de données</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/25-control-structures.html" class="reference internal ">Structures de contrôle</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/30-processus.html" class="reference internal ">Programmes et Processus</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/35-stdio.html" class="reference internal ">Entrées Sorties</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/40-functions.html" class="reference internal ">Fonctions</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/45-compound-datatype.html" class="reference internal ">Types composites</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/50-files.html" class="reference internal ">Les fichiers</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/55-memory-management.html" class="reference internal ">Gestion de la mémoire</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/60-pointers.html" class="reference internal ">Pointeurs</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/70-standard-library.html" class="reference internal ">Bibliothèques</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/75-preprocessor.html" class="reference internal ">Préprocesseur</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/77-algorithms.html" class="reference internal ">Algorithmes et conception</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/78-translation-units.html" class="reference internal ">Assemblage différé</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/80-scopes.html" class="reference internal ">Portée et visibilité</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/82-testing.html" class="reference internal ">Qualité et Testabilité</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/85-linked-list.html" class="reference internal ">Structures récursives</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/90-advanced-topics.html" class="reference internal ">Avancé</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/92-traps.html" class="reference internal ">Pièges</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="content/95-philosophy.html" class="reference internal ">Philosophie</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="index.html#le-c-pour-l-ingenieur">Annexes</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="appendix/10-vscode.html" class="reference internal ">Visual Studio Code</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="appendix/20-grammar.html" class="reference internal ">Grammaire C</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="appendix/30-doxygen.html" class="reference internal ">Documentation automatique avec Doxygen</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="appendix/40-development.html" class="reference internal ">Environnement de développement</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="appendix/70-unit.html" class="reference internal ">Fiches d'unités</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="appendix/80-laboratories.html" class="reference internal ">Laboratoires</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="appendix/88-summary.html" class="reference internal ">Résumé</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="appendix/99-colophon.html" class="reference internal ">Colophon</a>

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
    <li>Exercices</li>
  </ul>
  

  <ul class="page-nav">
</ul>
  
</div>
<hr>
          <div class="content" role="main">
            
  <div class="section" id="exercices">
<span id="exercises"></span><h1>Exercices<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<h1>1. Introduction<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/1/1">
<p class="caption"><span class="caption-text">Exercice 1.1 Standardisation</span><a class="headerlink" href="#exercise/1/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Ouvrez le standard <a class="reference external" href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1256.pdf">C99</a> et cherchez la valeur maximale possible de la constante <code class="docutils literal notranslate"><span class="pre">ULLONG_MAX</span></code>. Que vaut-elle ?</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Au paragraphe §5.2.4.2.1-1 on peut lire que <code class="docutils literal notranslate"><span class="pre">ULLONG_MAX</span></code> est encodé sur 64-bits et donc que sa valeur est <span class="math notranslate nohighlight">\(2^{64}-1\)</span> donc <cite>18'446'744'073'709'551'615</cite>.</p>
</div>
</div>
<div class="exercise" id="exercise/1/2">
<p class="caption"><span class="caption-text">Exercice 1.2 Eclipse</span><a class="headerlink" href="#exercise/1/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Un ami vous parle d'un outil utilisé pour le développement logiciel nommé <strong>Eclipse</strong>. De quel type d'outil s'agit-il ?</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p><a class="reference external" href="https://www.eclipse.org/ide/">Eclipse</a> est un IDE. Il n'intègre donc pas de chaîne de compilation et donc aucun compilateur.</p>
</div>
</div>
<div class="exercise" id="exercise/1/3">
<p class="caption"><span class="caption-text">Exercice 1.3 Pêche</span><a class="headerlink" href="#exercise/1/3" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Combien y-a-t-il eu de questions posées en C sur le site Stack Overflow?</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Il suffit pour cela de se rendre sur le site de <a class="reference external" href="https://stackoverflow.com/tags/c">Stackoverflow</a> et d'accéder à la liste des tags. En 2019/07 il y eut 307'669 questions posées.</p>
<p>Seriez-vous capable de répondre à une question posée?</p>
</div>
</div>
<div class="exercise" id="exercise/1/4">
<p class="caption"><span class="caption-text">Exercice 1.4 Auteurs</span><a class="headerlink" href="#exercise/1/4" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Qui a inventé le C ?</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Brian Kernighan et Dennis Ritchie en 1972</p>
</div>
</div>
<div class="exercise" id="exercise/1/5">
<p class="caption"><span class="caption-text">Exercice 1.5 Standardisation</span><a class="headerlink" href="#exercise/1/5" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Quel est le standard C à utiliser en 2019 et pourquoi ?</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Le standard industriel, malgré que nous soyons en 2019 est toujours
<strong>ISO/IEC 9899:1999</strong> car peu de changements majeurs ont été apporté
au langage depuis et les entreprises préfèrent migrer sur C++ plutôt
que d'adopter un standard plus récent qui n'apporte que peu de changements.</p>
</div>
</div>
<div class="exercise" id="exercise/1/6">
<p class="caption"><span class="caption-text">Exercice 1.6 Paradigmes</span><a class="headerlink" href="#exercise/1/6" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Quels sont les paradigmes de programmation supportés par C ?</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>C supporte les paradigmes impératifs, structurés et procédural.</p>
</div>
</div>
<div class="exercise" id="exercise/1/7">
<p class="caption"><span class="caption-text">Exercice 1.7 Langage impératif</span><a class="headerlink" href="#exercise/1/7" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Pourriez-vous définir ce qu'est la programmation impérative ?</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>La programmation impérative consiste en des séquences de commandes ordonnées.
C'est à dire que les séquences sont exécutées dans un ordre défini les unes à la suite de autres.</p>
</div>
</div>
<div class="exercise" id="exercise/1/8">
<p class="caption"><span class="caption-text">Exercice 1.8 Coulée de lave</span><a class="headerlink" href="#exercise/1/8" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Qu'est ce qu'une coulée de lave en informatique ?</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Lorsqu'un code immature est mis en production, l'industriel qui le publie risque un retour de flamme dû aux bogues et mécontentement des clients. Afin d'éviter une <em>coulée de lave</em>
il est important qu'un programme soit testé et soumis à une équipe de <em>beta-testing</em> qui
s'assure qu'outre le respect des spécifications initiales, le programme soit utilisable
facilement par le public cible. Il s'agit aussi d'étudier l'ergonomie du programme.</p>
<p>Un programme peut respecter le cahier des charges, être convenablement testé, fonctionner parfaitement mais être difficile à l'utilisation car certaines fonctionnalités sont peu ou pas documentées. La surcharge du service de support par des clients perdus peut également être assimilée à une coulée de lave.</p>
</div>
</div>
<div class="exercise" id="exercise/1/9">
<p class="caption"><span class="caption-text">Exercice 1.9 Cat</span><a class="headerlink" href="#exercise/1/9" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Qu'est-ce que <code class="docutils literal notranslate"><span class="pre">cat</span></code>?</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p><code class="docutils literal notranslate"><span class="pre">cat</span></code> est un programme normalisé POSIX prenant en entrée un fichier et l'affichant à l'écran. Il est utilisé notament dans cet ouvrage pour montrer que le contenu du fichier <code class="docutils literal notranslate"><span class="pre">hello.c</span></code> est bel et bien celui attendu.</p>
</div>
</div>
<h1>2. La programmation<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/2/1">
<p class="caption"><span class="caption-text">Exercice 2.1 Algorithme d'Euclide</span><a class="headerlink" href="#exercise/2/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Appliquer l'algorithme d'Euclide aux entrées suivantes. Que vaut <span class="math notranslate nohighlight">\(a\)</span>
, <span class="math notranslate nohighlight">\(b\)</span> et <span class="math notranslate nohighlight">\(r\)</span> ?</p>
<div class="math notranslate nohighlight">
\[a = 1260, b = 630\]</div>
</div>
<div class="exercise" id="exercise/2/2">
<p class="caption"><span class="caption-text">Exercice 2.2 Alain Turing</span><a class="headerlink" href="#exercise/2/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Comment est mort Alain Turing et pourquoi est-il connu ?</p>
</div>
<h1>3. Généralités du langage<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/3/1">
<p class="caption"><span class="caption-text">Exercice 3.1 Validité des identificateurs</span><a class="headerlink" href="#exercise/3/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Pour chacune des suites de caractères ci-dessous, indiquez s'il s'agit d'un identificateur valide et utilisable en C. Justifier votre réponse.</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">2_pi</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x_2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x___3</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">positionRobot</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">piece_presente</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_commande_vanne</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-courant_sortie</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_alarme_</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">panne#2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">défaillance</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></li>
</ol>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Une excellente approche serait d'utiliser directement l'expression régulière fournie et d'utiliser l'outil en ligne <a class="reference external" href="https://regex101.com/r/cmxaic/1">regex101.com</a>.</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">2_pi</span></code> <strong>invalide</strong> car commence par un chiffre</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x_2</span></code> <strong>valide</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x___3</span></code> <strong>valide</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">2</span></code> <strong>invalide</strong> car comporte un espace</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">positionRobot</span></code> <strong>valide</strong>, notation <em>camelCase</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">piece_presente</span></code> <strong>valide</strong>, notation <em>snake_case</em></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_commande_vanne</span></code> <strong>valide</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-courant_sortie</span></code> <strong>invalide</strong>, un identificateur ne peut pas commencer par le signe <code class="docutils literal notranslate"><span class="pre">-</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_alarme_</span></code> <strong>valide</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">panne#2</span></code> <strong>invalide</strong>, le caractère <code class="docutils literal notranslate"><span class="pre">#</span></code> n'est pas autorisé</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span></code> <strong>invalide</strong>, <code class="docutils literal notranslate"><span class="pre">int</span></code> est un mot réservé du langage</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">défaillance</span></code> <strong>invalide</strong>, uniquement les caractères imprimable ASCII sont autorisés</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f'</span></code> <strong>invalide</strong> l'apostrophe n'est pas autorisée</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INT</span></code> <strong>valide</strong></p></li>
</ol>
</div>
</div>
<div class="exercise" id="exercise/3/2">
<p class="caption"><span class="caption-text">Exercice 3.2 Affectation de variables</span><a class="headerlink" href="#exercise/3/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Considérons les déclarations suivantes:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">x</span><span class="p">;</span>
</pre></div>
</div>
<p>Notez après chaque affectation, le contenu des différentes variables:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 39%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Ligne</p></th>
<th class="head"><p>Instruction</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">a</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">b</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">c</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">x</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">5;</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">=</span> <span class="pre">c;</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">=</span> <span class="pre">a;</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">a</span> <span class="pre">+</span> <span class="pre">1;</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">a</span> <span class="pre">-</span> <span class="pre">++c;</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">=</span> <span class="pre">c</span> <span class="pre">=</span> <span class="pre">x;</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">2.</span> <span class="pre">=</span> <span class="pre">7.;</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 39%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Ligne</p></th>
<th class="head"><p>Instruction</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">a</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">b</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">c</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">x</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">5;</span></code></p></td>
<td><p>5</p></td>
<td><p>?</p></td>
<td><p>?</p></td>
<td><p>?</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">=</span> <span class="pre">c;</span></code></p></td>
<td><p>5</p></td>
<td><p>?</p></td>
<td><p>?</p></td>
<td><p>?</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">=</span> <span class="pre">a;</span></code></p></td>
<td><p>5</p></td>
<td><p>?</p></td>
<td><p>5</p></td>
<td><p>?</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">a</span> <span class="pre">+</span> <span class="pre">1;</span></code></p></td>
<td><p>6</p></td>
<td><p>?</p></td>
<td><p>5</p></td>
<td><p>?</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">a</span> <span class="pre">-</span> <span class="pre">++c;</span></code></p></td>
<td><p>6</p></td>
<td><p>?</p></td>
<td><p>6</p></td>
<td><p>12</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">=</span> <span class="pre">c</span> <span class="pre">=</span> <span class="pre">x;</span></code></p></td>
<td><p>6</p></td>
<td><p>12</p></td>
<td><p>12</p></td>
<td><p>12</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">2.</span> <span class="pre">=</span> <span class="pre">7.;</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="exercise" id="exercise/3/3">
<p class="caption"><span class="caption-text">Exercice 3.3 Constances littérales</span><a class="headerlink" href="#exercise/3/3" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Pour les entrées suivantes, indiquez lesquelles sont correctes.</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">12.3</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">12E03</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">12u</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">12.0u</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1L</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1.0L</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.9</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">9.</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0x33</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0xefg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0xef</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0xeF</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0x0.2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">09</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">02</span></code></p></li>
</ol>
</div>
<div class="exercise" id="exercise/3/4">
<p class="caption"><span class="caption-text">Exercice 3.4 Affectations simples</span><a class="headerlink" href="#exercise/3/4" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Donnez les valeurs de <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code>, <code class="docutils literal notranslate"><span class="pre">p</span></code> après l'exécution des instructions ci-dessous:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span> <span class="n">x</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">;</span>

<span class="n">p</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">/</span> <span class="n">p</span><span class="p">;</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span>p ≡ 2
x ≡ 7
n ≡ 7
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/3/5">
<p class="caption"><span class="caption-text">Exercice 3.5 Trop d'égalités</span><a class="headerlink" href="#exercise/3/5" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>On considère les déclarations suivantes:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>
</pre></div>
</div>
<p>Donnez les valeurs des variabels <code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">j</span></code> et <code class="docutils literal notranslate"><span class="pre">k</span></code> après l'exécution de chacune des expressions ci-dessous. Qu'en pensez-vous ?</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* 1 */</span> <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">3</span><span class="p">);</span>
<span class="cm">/* 2 */</span> <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">j</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">k</span> <span class="o">*</span> <span class="mi">4</span><span class="p">;</span>
<span class="cm">/* 3 */</span> <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">k</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Selon la table de priorité des opérateurs, on note:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">()</span></code> priorité 1 associativité à droite</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code> priorité 3 associativité à gauche</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">+</span></code> priorité 4 associativité à droite</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=</span></code> priorité 14 associativité à gauche</p></li>
</ul>
<p>En revanche rien n'est dit sur les <a class="reference external" href="https://en.wikipedia.org/wiki/Sequence_point">point de séquences</a>. L'opérateur d'affectation n'est pas un point de séquence, autrement dit le standard C99 (Annexe C) ne définit pas l'ordre dans lequel les assignations sont effectuées.</p>
<p>Ainsi, seul le premier point possède une solution, les deux autres sont indéterminés</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">=</span> <span class="pre">(k</span> <span class="pre">=</span> <span class="pre">2)</span> <span class="pre">+</span> <span class="pre">(j</span> <span class="pre">=</span> <span class="pre">3)</span></code></dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">=</span> <span class="pre">5</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">j</span> <span class="pre">=</span> <span class="pre">3</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">=</span> <span class="pre">2</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">=</span> <span class="pre">(k</span> <span class="pre">=</span> <span class="pre">2)</span> <span class="pre">+</span> <span class="pre">(j</span> <span class="pre">=</span> <span class="pre">2)</span> <span class="pre">+</span> <span class="pre">j</span> <span class="pre">*</span> <span class="pre">3</span> <span class="pre">+</span> <span class="pre">k</span> <span class="pre">*</span> <span class="pre">4</span></code></dt><dd><ul class="simple">
<li><p>Résultat indéterminé</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">=</span> <span class="pre">(i</span> <span class="pre">=</span> <span class="pre">3)</span> <span class="pre">+</span> <span class="pre">(k</span> <span class="pre">=</span> <span class="pre">2)</span> <span class="pre">+</span> <span class="pre">(j</span> <span class="pre">=</span> <span class="pre">i</span> <span class="pre">+</span> <span class="pre">1)</span> <span class="pre">+</span> <span class="pre">(k</span> <span class="pre">=</span> <span class="pre">j</span> <span class="pre">+</span> <span class="pre">2)</span> <span class="pre">+</span> <span class="pre">(j</span> <span class="pre">=</span> <span class="pre">k</span> <span class="pre">-</span> <span class="pre">1)</span></code></dt><dd><ul class="simple">
<li><p>Résultat indéterminé</p></li>
</ul>
</dd>
</dl>
</li>
</ol>
</div>
</div>
<div class="exercise" id="exercise/3/6">
<p class="caption"><span class="caption-text">Exercice 3.6 Verbosité</span><a class="headerlink" href="#exercise/3/6" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Comment récririez-vous ce programme?</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="k">register</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">the_element_index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">the_element_index</span> <span class="o">&lt;</span> <span class="n">number_of_elements</span><span class="p">;</span> <span class="n">the_element_index</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">array_of_elements</span><span class="p">[</span><span class="n">the_element_index</span><span class="p">]</span> <span class="o">=</span>  <span class="n">the_element_index</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Une règle de programmation: le nom identifieurs doit être proportionnel à leur contexte. Plus le contexte de la variable est réduit, plus le nom peut être court. Le même programme pourrait être écrit comme suit:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">nelems</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="n">elem</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</pre></div>
</div>
<p>Un consensus assez bien établi est qu'une variable commencant par <code class="docutils literal notranslate"><span class="pre">n</span></code> peut signifier
<em>number of</em>.</p>
</div>
</div>
<h1>4. Numération<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/4/1">
<p class="caption"><span class="caption-text">Exercice 4.1 </span><a class="headerlink" href="#exercise/4/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Combien de valeurs décimales peuvent être représentées avec 10-bits ?</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Avec une base binaire 2 et 10 bits, le total représentable est:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[2^10 = 1024\]</div>
</div></blockquote>
<p>Soit les nombres de 0 à 1023.</p>
</div>
</div>
<div class="exercise" id="exercise/4/2">
<p class="caption"><span class="caption-text">Exercice 4.2 Les chiffes hexadécimaux</span><a class="headerlink" href="#exercise/4/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Calculer la valeur décimale des nombres suivants et donnez le détail du calcul:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>0xaaaa
0b1100101
0x1010
129
0216
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0xaaaa    ≡ 43690
0b1100101 ≡   101
0x1010    ≡  4112
129       ≡   129 (n&#39;est-ce pas ?)
0216      ≡   142
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/4/3">
<p class="caption"><span class="caption-text">Exercice 4.3 La numération Shadock</span><a class="headerlink" href="#exercise/4/3" title="Lien permanent vers cet exercice">¶</a></span></p>
<div class="figure align-default">
<a class="reference internal image-reference" href="_images/shadocks.svg"><img alt="_images/shadocks.svg" height="200px" src="_images/shadocks.svg" /></a>
</div>
<p>Les Shadocks ne connaissent que quatre mots: <code class="docutils literal notranslate"><span class="pre">GA</span></code>, <code class="docutils literal notranslate"><span class="pre">BU</span></code>, <code class="docutils literal notranslate"><span class="pre">ZO</span></code>, <code class="docutils literal notranslate"><span class="pre">MEU</span></code>. La vidéo <a class="reference external" href="https://www.youtube.com/watch?v=lP9PaDs2xgQ">Comment compter comme les Shadocks</a> en explique le principe.</p>
<p>Convertir <code class="docutils literal notranslate"><span class="pre">−⨼○◿○</span></code> (<code class="docutils literal notranslate"><span class="pre">BU</span> <span class="pre">ZO</span> <span class="pre">GA</span> <span class="pre">MEU</span> <span class="pre">GA</span></code>) en décimal.</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Le système Shadock est un système quaternaire similaire au système du génôme humain basé sur quatre bases nucléiques. Assignons donc aux symboles Shadocks les symboles du système indo-arabe que nous connaissons mieux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>0 ○ (GA)
1 − (BU)
2 ⨼ (ZO)
3 ◿ (MEU)
</pre></div>
</div>
<p>Le nombre d'entrée <code class="docutils literal notranslate"><span class="pre">−⨼O◿O</span></code> peut ainsi s'exprimer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>−⨼○◿○ ≡ 12030₄
</pre></div>
</div>
<p>En appliquant la méthode du cours on obtient:</p>
<div class="math notranslate nohighlight">
\[1 \cdot 4^4 + 2 \cdot 4^3 + 0 \cdot 4^2 + 3 \cdot 4^1 + 0 \cdot 4^0 = 396_{10}\]</div>
<div class="admonition hint">
<p class="admonition-title">Indication</p>
<p>Depuis un terminal Python vous pouvez simplement utiliser <code class="docutils literal notranslate"><span class="pre">int(&quot;12030&quot;,</span> <span class="pre">4)</span></code></p>
</div>
</div>
</div>
<div class="exercise" id="exercise/4/4">
<p class="caption"><span class="caption-text">Exercice 4.4 Additions binaires</span><a class="headerlink" href="#exercise/4/4" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Une unité de calcul arithmétique (ALU) est capable d'effectuer les 4 opérations de bases comprenants additions et soustractions.</p>
<p>Traduisez les opérandes ci-dessous en binaire, puis poser l'addition en binaire.</p>
<ol class="arabic simple">
<li><p>1 + 51</p></li>
<li><p>51 - 7</p></li>
<li><p>204 + 51</p></li>
<li><p>204 + 204 (sur 8-bits)</p></li>
</ol>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<ol class="arabic">
<li><dl>
<dt>1 + 51</dt><dd><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>       ¹¹
         1₂
+   110011₂  (2⁵ + 2⁴ + 2¹+ 2⁰ ≡ 51)
----------
    110100₂
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>51 - 7</dt><dd><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  …¹¹¹  ¹¹
  …000110011₂  (2⁵ + 2⁴ + 2¹ + 2⁰ ≡ 51)
+ …111111001₂  (complément à deux) 2³ + 2¹ + 2⁰ ≡ 111₂ → !7 + 1 ≡ …111001₂)
 -----------
  …000101100₂  (2⁵ + 2³ + 2₂ ≡ 44)
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>204 + 51</dt><dd><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>    11001100₂
+     110011₂
 -----------
  …011111111₂  (2⁸ - 1 ≡ 255)
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>204 + 204 (sur 8-bits)</dt><dd><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>   ¹|¹  ¹¹
    |11001100₂
+   |11001100₂
 ---+--------
   1|10011000₂  (152, le résultat complet devrait être 2⁸ + 152 ≡ 408)
</pre></div>
</div>
</dd>
</dl>
</li>
</ol>
</div>
</div>
<div class="exercise" id="exercise/4/5">
<p class="caption"><span class="caption-text">Exercice 4.5 De Morgan</span><a class="headerlink" href="#exercise/4/5" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Utiliser les relations de De Morgan pour simplifier l'expression suivante</p>
<div class="math notranslate nohighlight">
\[D \cdot E + \bar{D} + \bar{E}\]</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Si l'on applique De Morgan (<span class="math notranslate nohighlight">\(\bar{XY} = \bar{X} + \bar{Y}\)</span>):</p>
<div class="math notranslate nohighlight">
\[D \cdot E + \bar{D} + \bar{E}\]</div>
</div>
</div>
<div class="exercise" id="exercise/4/6">
<p class="caption"><span class="caption-text">Exercice 4.6 Swap sans valeur intermédiaire</span><a class="headerlink" href="#exercise/4/6" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Soit deux variables entières <code class="docutils literal notranslate"><span class="pre">a</span></code> et <code class="docutils literal notranslate"><span class="pre">b</span></code>, chacune contenant une valeur différente. Écrivez les instructions permettant d'échanger les valeurs de a et de b sans utiliser de valeurs intermédiaire. Indice: utilisez l'opérateur XOR <code class="docutils literal notranslate"><span class="pre">^</span></code>.</p>
<p>Testez votre solution</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">^=</span> <span class="n">b</span><span class="p">;</span>
<span class="n">b</span> <span class="o">^=</span> <span class="n">a</span><span class="p">;</span>
<span class="n">a</span> <span class="o">^=</span> <span class="n">b</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<h1>5. Opérateurs<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/5/1">
<p class="caption"><span class="caption-text">Exercice 5.1 Opérateur séquentiel</span><a class="headerlink" href="#exercise/5/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Que sera-t-il affiché à l'écran ?</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="p">(</span><span class="o">++</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o">++</span><span class="p">,</span> <span class="o">++</span><span class="n">i</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="exercise" id="exercise/5/2">
<p class="caption"><span class="caption-text">Exercice 5.2 Masque binaire</span><a class="headerlink" href="#exercise/5/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Soit les déclarations suivantes:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="mh">0x55</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="mh">0xAA</span><span class="p">;</span>
</pre></div>
</div>
<p>Représenter en binaire et en hexadécimal la valeur de tous les bits de la variable <code class="docutils literal notranslate"><span class="pre">m</span></code> après exécution de chacune des instructions suivantes:</p>
<ol class="arabic simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n;</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">~1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n;</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">~(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">d</span> <span class="pre">|</span> <span class="pre">(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">e</span> <span class="pre">|</span> <span class="pre">(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">d</span> <span class="pre">^</span> <span class="pre">(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">e</span> <span class="pre">^</span> <span class="pre">(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">d</span> <span class="pre">&amp;</span> <span class="pre">~(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">e</span> <span class="pre">&amp;</span> <span class="pre">~(1</span> <span class="pre">&lt;&lt;</span> <span class="pre">n);</span></code></p></li>
</ol>
</div>
<div class="exercise" id="exercise/5/3">
<p class="caption"><span class="caption-text">Exercice 5.3 Registre système</span><a class="headerlink" href="#exercise/5/3" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Pour programmer les registres 16-bits d'un composant électronique chargé de gérer des sorties tout ou rien, on doit être capable d'effectuer les opérations suivantes:</p>
<ul class="simple">
<li><p>mettre à 1 le bit numéro <code class="docutils literal notranslate"><span class="pre">n</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code> étant un entier entre 0 et 15;</p></li>
<li><p>mettre à 0 le bit numéro <code class="docutils literal notranslate"><span class="pre">n</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code> étant un entier entre 0 et 15;</p></li>
<li><p>inverser le bit numéro <code class="docutils literal notranslate"><span class="pre">n</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code> étant un entier entre 0 et 15;</p></li>
</ul>
<p>Pour des questions d'efficacité, ces opérations ne doivent utiliser que les opérateurs bit à bit ou décalage. On appelle <code class="docutils literal notranslate"><span class="pre">r0</span></code> la vairable désignant le registre en mémoire et <code class="docutils literal notranslate"><span class="pre">n</span></code> la variable contenant le numéro du bit à modifier. Écriver les expressions permettant d'effectuer les opérations demandées.</p>
</div>
<div class="exercise" id="exercise/5/4">
<p class="caption"><span class="caption-text">Exercice 5.4 Recherche d'expressions</span><a class="headerlink" href="#exercise/5/4" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Considérant les déclarations suivantes:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">;</span>
</pre></div>
</div>
<p>Traduire en C les expressions mathématiques ci-dessous; pour chacune, proposer plusieurs écritures différentes lorsque c'est possible. Le symbole <span class="math notranslate nohighlight">\(\leftarrow\)</span> signifie <em>assignation</em></p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(n \leftarrow 8 \cdot n\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(a \leftarrow a + 2\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(n \leftarrow \left\{\begin{array}{lr}m &amp; : m &gt; 0\\ 0 &amp; : \text{sinon}\end{array}\right.\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(a \leftarrow n\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(n \leftarrow \left\{\begin{array}{lr}0 &amp; : m~\text{pair}\\ 1 &amp; : m~\text{impair}\end{array}\right.\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(n \leftarrow \left\{\begin{array}{lr}1 &amp; : m~\text{pair}\\ 0 &amp; : m~\text{impair}\end{array}\right.\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(m \leftarrow 2\cdot m + 2\cdot n\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(n \leftarrow n + 1\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(a \leftarrow \left\{\begin{array}{lr}-a &amp; : b &lt; 0\\ a &amp; : \text{sinon}\end{array}\right.\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(n \leftarrow \text{la valeur des 4 bits de poids faible de}~n\)</span></p></li>
</ol>
</div>
<div class="exercise" id="exercise/5/5">
<p class="caption"><span class="caption-text">Exercice 5.5 Nombres narcissiques</span><a class="headerlink" href="#exercise/5/5" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Un nombre narcissique ou <a class="reference external" href="https://fr.wikipedia.org/wiki/Nombre_narcissique">nombre d'Amstrong</a> est  un entier naturel <code class="docutils literal notranslate"><span class="pre">n</span></code> non nul qui est égal à la somme des puissances <code class="docutils literal notranslate"><span class="pre">p</span></code>-ièmes de ses chiffres en base dix, où <code class="docutils literal notranslate"><span class="pre">p</span></code> désigne le nombre de chiffres de <code class="docutils literal notranslate"><span class="pre">n</span></code>:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[n=\sum_{k=0}^{p-1}x_k10^k=\sum_{k=0}^{p-1}(x_k)^p\quad\text{avec}\quad x_k\in\{0,\ldots,9\}\quad\text{et}\quad x_{p-1}\ne 0\]</div>
</div></blockquote>
<p>Par exemple:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">9</span></code> est un nombre narcissique car <span class="math notranslate nohighlight">\(9 = 9^1 = 9\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">153</span></code> est un nombre narcissique car <span class="math notranslate nohighlight">\(153 = 1^3 + 5^3 + 3^3 = 1 + 125 + 27 = 153\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">10</span></code> n'est pas un nombre narcissique car <span class="math notranslate nohighlight">\(10 \ne 1^2 + 0^2 = 1\)</span></p></li>
</ul>
<p>Implanter un programme permettant de vérifier si un nombre d'entrée est narcissique ou non. L'exécution est la suivante:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./armstrong 153
1

$ ./armstrong 154
0
</pre></div>
</div>
</div>
<h1>6. Types de données<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/6/1">
<p class="caption"><span class="caption-text">Exercice 6.1 Expressions arithmétiques entières</span><a class="headerlink" href="#exercise/6/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Donnez la valeur des expressions ci-dessous:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span>25 + 10 + 7 – 3
5 / 2
24 + 5 / 2
(24 + 5) / 2
25 / 5 / 2
25 / (5 / 2)
72 % 5 – 5
72 / 5 – 5
8 % 3
-8 % 3
8 % -3
-8 % -3
</pre></div>
</div>
</div>
<div class="exercise" id="exercise/6/2">
<p class="caption"><span class="caption-text">Exercice 6.2 Débordement</span><a class="headerlink" href="#exercise/6/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Quel sera le contenu de <code class="docutils literal notranslate"><span class="pre">j</span></code> après l'exécution de l'instruction suivante:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint16_t</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">64</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="exercise" id="exercise/6/3">
<p class="caption"><span class="caption-text">Exercice 6.3 Expressions arithmétiques flottantes</span><a class="headerlink" href="#exercise/6/3" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Donnez la valeur des expressions ci-dessous:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span>25. + 10. + 7. – 3.
5. / 2.
24. + 5. / 2.
25. / 5. / 2.
25. / (5. / 2.)
2. * 13. % 7.
1.3E30 + 1.
</pre></div>
</div>
</div>
<div class="exercise" id="exercise/6/4">
<p class="caption"><span class="caption-text">Exercice 6.4 Constantes littérales caractérielles</span><a class="headerlink" href="#exercise/6/4" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Indiquez si les constantes littérales suivantes sont valides ou invalides.</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'a'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'A'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ab'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'\x41'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'\041'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'\0x41'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'\n'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'\w'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'\t'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'\xp2'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;abcdef&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;\abc\ndef&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;\'\&quot;\\&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;Hello</span> <span class="pre">\world</span> <span class="pre">!\n&quot;</span></code></p></li>
</ol>
</div>
<div class="exercise" id="exercise/6/5">
<p class="caption"><span class="caption-text">Exercice 6.5 Chaînes de formatage</span><a class="headerlink" href="#exercise/6/5" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Pour les instructions ci-dessous, indiquer quel est l'affichage obtenu.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span> <span class="n">a</span> <span class="o">=</span> <span class="sc">&#39;a&#39;</span><span class="p">;</span>
<span class="kt">short</span> <span class="n">sh1</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">f1</span> <span class="o">=</span> <span class="mf">7.0f</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">i1</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="n">i2</span> <span class="o">=</span> <span class="sc">&#39;a&#39;</span><span class="p">;</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Next</span> <span class="pre">char:</span> <span class="pre">%c.\n&quot;,</span> <span class="pre">a</span> <span class="pre">+</span> <span class="pre">1);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Char:</span> <span class="pre">%3c.\n&quot;,</span> <span class="pre">a);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Char:</span> <span class="pre">%-3c.\n&quot;,</span> <span class="pre">a);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Chars:</span> <span class="pre">\n-%c.\n-%c.\n&quot;,</span> <span class="pre">a,</span> <span class="pre">'z'</span> <span class="pre">-</span> <span class="pre">1);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Sum:</span> <span class="pre">%i\n&quot;,</span> <span class="pre">i1</span> <span class="pre">+</span> <span class="pre">i2</span> <span class="pre">-</span> <span class="pre">a);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Taux</span> <span class="pre">d’erreur\t%i</span> <span class="pre">%%\n&quot;,</span> <span class="pre">i1);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Quel</span> <span class="pre">charabia</span> <span class="pre">horrible:\\\a\a\a%g\b\a%%\a\\\n&quot;,</span> <span class="pre">f1);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Inventaire:</span> <span class="pre">%i4</span> <span class="pre">pieces\n&quot;,</span> <span class="pre">i1);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Inventory:</span> <span class="pre">%i</span> <span class="pre">%s\n&quot;,</span> <span class="pre">i1,</span> <span class="pre">&quot;pieces&quot;);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Inventaire:</span> <span class="pre">%4i</span> <span class="pre">pieces\n&quot;,</span> <span class="pre">i1);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Inventaire:</span> <span class="pre">%-4i</span> <span class="pre">pieces\n&quot;,</span> <span class="pre">i1);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Mixed</span> <span class="pre">sum:</span> <span class="pre">%f\n&quot;,</span> <span class="pre">sh1</span> <span class="pre">+</span> <span class="pre">i1</span> <span class="pre">+</span> <span class="pre">f1);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Tension:</span> <span class="pre">%5.2f</span> <span class="pre">mV\n&quot;,</span> <span class="pre">f1);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Tension:</span> <span class="pre">%5.2e</span> <span class="pre">mV\n&quot;,</span> <span class="pre">f1);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Code:</span> <span class="pre">%X\n&quot;,</span> <span class="pre">12);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Code:</span> <span class="pre">%x\n&quot;,</span> <span class="pre">12);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Code:</span> <span class="pre">%o\n&quot;,</span> <span class="pre">12);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Value:</span> <span class="pre">%i\n&quot;,</span> <span class="pre">-1);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Value:</span> <span class="pre">%hi\n&quot;,</span> <span class="pre">65535u);</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printf(&quot;Value:</span> <span class="pre">%hu\n&quot;,</span> <span class="pre">-1);</span></code></p></li>
</ol>
</div>
<div class="exercise" id="exercise/6/6">
<p class="caption"><span class="caption-text">Exercice 6.6 Expressions mixtes</span><a class="headerlink" href="#exercise/6/6" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Soit les instructions suivantes:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">p</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">2.5</span><span class="p">;</span>
</pre></div>
</div>
<p>Donnez le type et la valeur des expressions suivantes:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">n</span> <span class="pre">%</span> <span class="pre">p</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">p</span> <span class="pre">/</span> <span class="pre">n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(x</span> <span class="pre">+</span> <span class="pre">p)</span> <span class="pre">/</span> <span class="pre">n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.5</span> <span class="pre">*</span> <span class="pre">n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.5</span> <span class="pre">*</span> <span class="pre">(float)n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(int).5</span> <span class="pre">*</span> <span class="pre">n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(n</span> <span class="pre">+</span> <span class="pre">1)</span> <span class="pre">/</span> <span class="pre">n</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(n</span> <span class="pre">+</span> <span class="pre">1.0)</span> <span class="pre">/</span> <span class="pre">n</span></code></p></li>
</ol>
</div>
<div class="exercise" id="exercise/6/7">
<p class="caption"><span class="caption-text">Exercice 6.7 Promotion numérique</span><a class="headerlink" href="#exercise/6/7" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Représentez les promotions numériques qui surviennent lors de l'évaluation des expressions ci-dessous:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span> <span class="n">c</span><span class="p">;</span>
<span class="kt">short</span> <span class="n">sh</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">f</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">d</span><span class="p">;</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">*</span> <span class="pre">sh</span> <span class="pre">-</span> <span class="pre">f</span> <span class="pre">/</span> <span class="pre">i</span> <span class="pre">+</span> <span class="pre">d;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">*</span> <span class="pre">(sh</span> <span class="pre">–</span> <span class="pre">f)</span> <span class="pre">/</span> <span class="pre">i</span> <span class="pre">+</span> <span class="pre">d;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">*</span> <span class="pre">sh</span> <span class="pre">-</span> <span class="pre">f</span> <span class="pre">-</span> <span class="pre">i</span> <span class="pre">+</span> <span class="pre">d;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">+</span> <span class="pre">sh</span> <span class="pre">*</span> <span class="pre">f</span> <span class="pre">/</span> <span class="pre">i</span> <span class="pre">+</span> <span class="pre">d;</span></code></p></li>
</ol>
</div>
<div class="exercise" id="exercise/6/8">
<p class="caption"><span class="caption-text">Exercice 6.8 Conversion de types</span><a class="headerlink" href="#exercise/6/8" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>On considère les déclarations suivantes:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span> <span class="n">x</span><span class="p">;</span>
<span class="kt">short</span> <span class="n">i</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">j</span><span class="p">;</span>
<span class="kt">long</span> <span class="n">k</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">l</span><span class="p">;</span>
</pre></div>
</div>
<p>Identifiez les expressions ci-dessous dont le résultat n'est pas mathématiquement correct.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mf">1e6</span><span class="p">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
<span class="n">j</span> <span class="o">=</span> <span class="o">-</span><span class="mi">20</span><span class="p">;</span>
<span class="n">k</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>
<span class="n">k</span> <span class="o">=</span> <span class="o">-</span><span class="mi">20</span><span class="p">;</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mf">1e6</span><span class="p">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>    <span class="c1">// Incorrect, i peut-être limité à -32767..+32767 (C99 §5.2.4.2.1)</span>
<span class="n">j</span> <span class="o">=</span> <span class="o">-</span><span class="mi">20</span><span class="p">;</span>  <span class="c1">// Incorrect, valeur signée dans un conteneur non signé</span>
<span class="n">k</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>
<span class="n">k</span> <span class="o">=</span> <span class="o">-</span><span class="mi">20</span><span class="p">;</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>    <span class="c1">// Incorrect, valeur signée dans un conteneur non signé</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/6/9">
<p class="caption"><span class="caption-text">Exercice 6.9 Un casting explicite</span><a class="headerlink" href="#exercise/6/9" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Que valent les valeurs de <code class="docutils literal notranslate"><span class="pre">p</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code> et <code class="docutils literal notranslate"><span class="pre">n</span></code>:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span> <span class="n">x</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">;</span>

<span class="n">p</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="mi">15</span> <span class="o">/</span> <span class="n">p</span><span class="p">;</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mf">1.1</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>p ≡ 2
x = 7.5
n = 8</p>
</div>
</div>
<div class="exercise" id="exercise/6/10">
<p class="caption"><span class="caption-text">Exercice 6.10 Opérateurs de relation et opérateurs logiques</span><a class="headerlink" href="#exercise/6/10" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Soit les déclarations suivantes:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>
<span class="kt">bool</span> <span class="n">condition</span><span class="p">;</span>
</pre></div>
</div>
<p>Réécrire l'expression ci-dessous en mettant des parenthèses montrant l'ordre des opérations:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">condition</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">20</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">x</span> <span class="o">||</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">50</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">2</span> <span class="o">||</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">60</span><span class="p">;</span>
</pre></div>
</div>
<p>Donner la valeur de <code class="docutils literal notranslate"><span class="pre">condition</span></code> évaluée avec les valeurs suivantes de <code class="docutils literal notranslate"><span class="pre">x</span></code> et <code class="docutils literal notranslate"><span class="pre">y</span></code>:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">-1.0;</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">60.;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">0;</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">1.;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">19.0;</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">1.0;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">0.0;</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">50.0;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">2.0;</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">50.0;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">-10.0;</span> <span class="pre">y</span> <span class="pre">=</span> <span class="pre">60.0;</span></code></p></li>
</ol>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">condition</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">))</span>
    <span class="o">||</span>
    <span class="p">((</span><span class="n">y</span> <span class="o">==</span> <span class="mi">50</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">2</span><span class="p">))</span>
    <span class="o">||</span>
    <span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">60</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></li>
</ol>
</div>
</div>
<div class="exercise" id="exercise/6/11">
<p class="caption"><span class="caption-text">Exercice 6.11 Casses tête</span><a class="headerlink" href="#exercise/6/11" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Vous participez à une revue de code et tomber sur quelques perles laissées par quelques collègues. Comment proposeriez-vous de corriger ces écritures ? Le code est écrit pour un modèle de donnée <strong>LLP64</strong>.</p>
<p>Pour chaque exemple, donner la valeur des variables après exécution du code.</p>
<ol class="arabic">
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">32767</span><span class="p">;</span>
<span class="n">i</span><span class="o">++</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">short</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">32767</span><span class="p">;</span>
<span class="n">i</span><span class="o">++</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">short</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">--</span><span class="p">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="o">--</span><span class="n">i</span><span class="p">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">--</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="exercise" id="exercise/6/12">
<p class="caption"><span class="caption-text">Exercice 6.12 Evaluation d'expressions</span><a class="headerlink" href="#exercise/6/12" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Considérons les déclarations suivantes:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kt">short</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kt">long</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">f</span> <span class="o">=</span> <span class="mf">3.3</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">d</span> <span class="o">=</span> <span class="mf">7.7</span><span class="p">;</span>
</pre></div>
</div>
<p>Que vaut le type et la valeur des expressions suivantes ?</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">/</span> <span class="pre">2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sh</span> <span class="pre">+</span> <span class="pre">c</span> <span class="pre">/</span> <span class="pre">10</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lg</span> <span class="pre">+</span> <span class="pre">i</span> <span class="pre">/</span> <span class="pre">2.0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">+</span> <span class="pre">f</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(int)d</span> <span class="pre">+</span> <span class="pre">f</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(int)d</span> <span class="pre">+</span> <span class="pre">lg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">&lt;&lt;</span> <span class="pre">2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sh</span> <span class="pre">&amp;</span> <span class="pre">0xF0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sh</span> <span class="pre">&amp;&amp;</span> <span class="pre">0xF0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sh</span> <span class="pre">==</span> <span class="pre">i</span> <span class="pre">+</span> <span class="pre">lg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">+</span> <span class="pre">f</span> <span class="pre">==</span> <span class="pre">sh</span> <span class="pre">+</span> <span class="pre">lg</span></code></p></li>
</ol>
</div>
<div class="exercise" id="exercise/6/13">
<p class="caption"><span class="caption-text">Exercice 6.13 Précision des flottants</span><a class="headerlink" href="#exercise/6/13" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Que vaut <code class="docutils literal notranslate"><span class="pre">x</span></code>?</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">10000000.</span> <span class="o">+</span> <span class="mf">0.1</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Le format float est stocké sur 32-bits avec 23-bits de mantisse et 8-bits d'exposants. Sa précision est donc limitée à environ 6 décimales. Pour représenter 10'000'000.1 il faut plus que 6 décimales et l'addition est donc caduc:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">float</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">10000000.</span> <span class="o">+</span> <span class="mf">0.1</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ./a.out
<span class="go">10000000.000000</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/6/14">
<p class="caption"><span class="caption-text">Exercice 6.14 Type de donnée idoine</span><a class="headerlink" href="#exercise/6/14" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Pour chaque entrée suivante, indiquez le nom et le type des variabels que vous utiliseriez pour représenter les données dans ce programme:</p>
<ol class="arabic simple">
<li><p>Gestion d'un parking: nombre de voitures présentes</p></li>
<li><dl class="simple">
<dt>Station météo</dt><dd><ol class="arabic simple">
<li><p>Température moyenne de la journée</p></li>
<li><p>Nombre de valeurs utilisées pour la moyenne</p></li>
</ol>
</dd>
</dl>
</li>
<li><p>Montant disponible sur un compte en banque</p></li>
<li><p>Programme de calcul de d'énergie produite dans une centrale nucléaire</p></li>
<li><p>Programme de conversion décimal, hexadécimal, binaire</p></li>
<li><p>Produit scalaire de deux vecteurs plans</p></li>
<li><p>Nombre d'impulsions reçues par un capteur de position incrémental</p></li>
</ol>
</div>
<div class="exercise" id="exercise/6/15">
<p class="caption"><span class="caption-text">Exercice 6.15 Construction d'expressions</span><a class="headerlink" href="#exercise/6/15" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>On considère un disque, divisé en 12 secteurs angulaires égaux, numérotés de 0
à 11. On mesure l’angle de rotation du disque en degrés, sous la forme d’un
nombre entier non signé. Une flèche fixe désigne un secteur. Entre 0 et 29 °, le
secteur désigné est le n° 0, entre 30 ° et 59 °, c’est le secteur 1, ...</p>
<p>Donnez une expression arithmétique permettant, en fonction d’un angle donné,
d’indiquer que est le secteur du disque se trouvent devant la flèche. Note :
l’angle de rotation peut être supérieur à 360 °. Vérifiez cette expression avec
les angles de 0, 15, 29, 30, 59, 60, 360, 389, 390 degrés.</p>
<p>Ecrivez un programme demandant l’angle et affichant le numéro de secteur
correspondant.</p>
</div>
<div class="exercise" id="exercise/6/16">
<p class="caption"><span class="caption-text">Exercice 6.16 Somme des entiers</span><a class="headerlink" href="#exercise/6/16" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Il est prouvé mathématiquement que la somme des entiers strictement positifs pris dans l'ordre croissant peut être exprimé comme:</p>
<div class="math notranslate nohighlight">
\[\sum_{k=1}^n k = \frac{n(n+1)}{2}\]</div>
<p>Un grand mathématicien <a class="reference external" href="https://fr.wikipedia.org/wiki/Srinivasa_Ramanujan">Srinivasa Ramanujan</a> (En tamoul: சீனிவாச இராமானுஜன்) à démontré que ce la somme à l'infini donne:</p>
<div class="math notranslate nohighlight">
\[\sum_{k=1}^{\inf} k = -\frac{1}{12}\]</div>
<p>Vous ne le croyez pas et décider d'utiliser le super-ordinateur <a class="reference external" href="https://fr.wikipedia.org/wiki/La_grande_question_sur_la_vie,_l%27univers_et_le_reste">Pensées Profondes</a> pour faire ce calcul. Comme vous n'avez pas accès à cet ordinateur pour l'instant (et probablement vos enfants n'auront pas accès à cet ordinateur non plus), écrivez un programme simple pour tester votre algorithme et prenant en paramètre la valeur <code class="docutils literal notranslate"><span class="pre">n</span></code> à laquelle s'arrêter.</p>
<p>Tester ensuite votre programme avec des valeurs de plus en plus grandes et analyser les performances avec le programme <code class="docutils literal notranslate"><span class="pre">time</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">time</span> ./a.out <span class="m">1000000000</span>
<span class="go">500000000500000000</span>

<span class="go">real    0m0.180s</span>
<span class="go">user    0m0.172s</span>
<span class="go">sys     0m0.016s</span>
</pre></div>
</div>
<p>A partir de quelle valeur, le temps de calcul devient significativement palpable ?</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span>
    <span class="kt">long</span> <span class="kt">long</span> <span class="n">n</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
    <span class="kt">long</span> <span class="kt">long</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">,</span> <span class="n">sum</span> <span class="o">+=</span> <span class="n">i</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%lld</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">sum</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/6/17">
<p class="caption"><span class="caption-text">Exercice 6.17 Système de vision industriel</span><a class="headerlink" href="#exercise/6/17" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>La société japonaise Nakainoeil développe des systèmes de vision industriels pour l'inspection de pièces dans une ligne d'assemblage. Le programme du système de vision comporte les variables internes suivantes:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint32_t</span> <span class="n">inspected_parts</span><span class="p">,</span> <span class="n">bad_parts</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">percentage_good_parts</span><span class="p">;</span>
</pre></div>
</div>
<p>A un moment du programme, on peut lire:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">percentage_good_parts</span> <span class="o">=</span> <span class="p">(</span><span class="n">inspected_parts</span> <span class="o">-</span> <span class="n">bad_parts</span><span class="p">)</span> <span class="o">/</span> <span class="n">inspected_parts</span><span class="p">;</span>
</pre></div>
</div>
<p>Sachant que <code class="docutils literal notranslate"><span class="pre">inspected_parts</span> <span class="pre">=</span> <span class="pre">2000</span></code> et <code class="docutils literal notranslate"><span class="pre">bad_parts</span> <span class="pre">=</span> <span class="pre">200</span></code>:</p>
<ol class="arabic simple">
<li><p>Quel résultat le développeur s'attend-il à obtenir ?</p></li>
<li><p>Qu'obtient-il en pratique ?</p></li>
<li><p>Pourquoi ?</p></li>
<li><p>Corrigez les éventuelles erreurs</p></li>
</ol>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<ol class="arabic">
<li><p>Le développeur s'attend à obtenir le pourcentage de bonne pièces avec plusieurs décimales après la virgule.</p></li>
<li><p>En pratique, il obtient un entier, c'est à dire toujours 0.</p></li>
<li><dl>
<dt>La promotion implicite des entiers peut être découpée comme suit:</dt><dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">numerator</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">inspected_parts</span> <span class="o">-</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">bad_parts</span><span class="p">;</span>
<span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">percentage</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">numerator</span> <span class="o">/</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">inspected_parts</span><span class="p">;</span>
<span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">percentage_good_parts</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">percentage</span><span class="p">;</span>
</pre></div>
</div>
<p>La division est donc appliquée à des entiers et non des flottnts.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Une possible correction consiste à forcer le type d'un des membres de la division:</dt><dd></dd>
</dl>
</li>
</ol>
</div>
</div>
<div class="exercise" id="exercise/6/18">
<p class="caption"><span class="caption-text">Exercice 6.18 Missile Patriot</span><a class="headerlink" href="#exercise/6/18" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Durant la guerre du golfe le 25 février 1991, une batterie de missile américaine à Dharan en arabie saoudite à échoué à intercepter un missile iraquien Scud. Cet échec tua 28 soldats américains et en blessa 100 autres. L'erreur sera imputée à un problème de type de donnée sera longuement discutée dans le rapport <strong>GAO/OMTEC-92-26</strong> du commandement général.</p>
<p>Un registre 24-bit est utilisé pour le stockage du temps écoulé depuis le démarrage du logiciel de contrôle indiquant le temps en dixieème de secondes. Dès lors il a fallait multiplier ce temps par 1/10 pour obtenir le temps en seconde. La valeur 1/10 était tronquée à la 24:sup:<cite>ième</cite> décimale après la virguleDes erreurs d'arrondi sont apparue menant à un décalage de près de 1 seconde après 100 heures de fonction. Or, cette erreur d'une seconde s'est traduit par 600 mètres d'erreur lors de la tentative d'interception.</p>
<p>Le stockage de la valeur 0.1 est donné par:</p>
<div class="math notranslate nohighlight">
\[0.1_{10} \approx \lfloor 0.1_{10}\cdot 2^{23} \rfloor = 11001100110011001100_{2} \approx 0.09999990463256836\]</div>
<p>Un registre contient donc le nombre d'heures écoulées exprimée en dixième de seconde soit pour 100 heures:</p>
<div class="math notranslate nohighlight">
\[100 \cdot 60 \cdot 60 \cdot 10 = 3'600'000\]</div>
<p>En termes de virgule fixe, la première valeur est exprimée en Q1.23 tandis que la seconde en Q0.24. Multiplier les deux valeurs entre elles donne <code class="docutils literal notranslate"><span class="pre">Q1.23</span> <span class="pre">x</span> <span class="pre">Q0.24</span> <span class="pre">=</span> <span class="pre">Q1.47</span></code> le résultat est donc exprimé sur 48 bits. Il faut donc diviser le résultat du calcul par <span class="math notranslate nohighlight">\(2^{47}\)</span> pour obtenir le nombre de secondes écoulées depuis le début la mise sous tension du système.</p>
<p>Quel est l'erreur en seconde cumulée sur les 100 heures de fonctionnement ?</p>
</div>
<h1>7. Structures de contrôle<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/7/1">
<p class="caption"><span class="caption-text">Exercice 7.1 Et si?</span><a class="headerlink" href="#exercise/7/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Comment se comporte l'exemple suivant:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">))</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;i is %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="exercise" id="exercise/7/2">
<p class="caption"><span class="caption-text">Exercice 7.2 D'autres si?</span><a class="headerlink" href="#exercise/7/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Compte tenu de la déclaration <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">i</span> <span class="pre">=</span> <span class="pre">8;</span></code>, indiquer pour chaque expressions si elles impriment ou non <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">vaut</span> <span class="pre">8</span></code>:</p>
<ol class="arabic">
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">))</span> <span class="n">then</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;i vaut 8</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">))</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;i vaut 8&quot;</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">!</span><span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;i vaut 8</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">))</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;i vaut 8</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">8</span><span class="p">)</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;i vaut 8</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">))</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;i vaut 8</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">^</span> <span class="mi">8</span><span class="p">)</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;i vaut 8</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">8</span><span class="p">)</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;i vaut 8</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="n">printf</span> <span class="p">(</span><span class="s">&quot;i vaut 8</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">((</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">)))</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;i vaut 8</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="exercise" id="exercise/7/3">
<p class="caption"><span class="caption-text">Exercice 7.3 Tant que...</span><a class="headerlink" href="#exercise/7/3" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Comment se comportent ces programmes:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">size_t</span> <span class="pre">i=0;while(i&lt;11){i+=2;printf(&quot;%i\n&quot;,i);}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i=11;while(i--){printf(&quot;%i\n&quot;,i--);}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i=12;while(i--){printf(&quot;%i\n&quot;,--i);}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">=</span> <span class="pre">1;while</span> <span class="pre">(</span> <span class="pre">i</span> <span class="pre">&lt;=</span> <span class="pre">5</span> <span class="pre">){</span> <span class="pre">printf</span> <span class="pre">(</span> <span class="pre">&quot;%i\n&quot;,</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">i++</span> <span class="pre">);}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">=</span> <span class="pre">1;</span> <span class="pre">while</span> <span class="pre">(</span> <span class="pre">i</span> <span class="pre">!=</span> <span class="pre">9</span> <span class="pre">)</span> <span class="pre">{</span> <span class="pre">printf</span> <span class="pre">(</span> <span class="pre">&quot;%i\n&quot;,</span> <span class="pre">i</span> <span class="pre">=</span> <span class="pre">i</span> <span class="pre">+</span> <span class="pre">2</span> <span class="pre">);</span> <span class="pre">}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">=</span> <span class="pre">1;</span> <span class="pre">while</span> <span class="pre">(</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">9</span> <span class="pre">)</span> <span class="pre">{</span> <span class="pre">printf</span> <span class="pre">(</span> <span class="pre">&quot;%i\n&quot;,</span> <span class="pre">i</span> <span class="pre">+=</span> <span class="pre">2</span> <span class="pre">);</span> <span class="pre">break;</span> <span class="pre">}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">=</span> <span class="pre">0;</span> <span class="pre">while</span> <span class="pre">(</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">10</span> <span class="pre">)</span> <span class="pre">{</span> <span class="pre">continue;</span> <span class="pre">printf</span> <span class="pre">(</span> <span class="pre">&quot;%i\n&quot;,</span> <span class="pre">i</span> <span class="pre">+=</span> <span class="pre">2</span> <span class="pre">);</span> <span class="pre">}</span></code></p></li>
</ol>
</div>
<div class="exercise" id="exercise/7/4">
<p class="caption"><span class="caption-text">Exercice 7.4 Pour quelques tours</span><a class="headerlink" href="#exercise/7/4" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Comment est-ce que ces expressions se comportent-elles ?</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">for</span> <span class="pre">(i</span> <span class="pre">=</span> <span class="pre">'a';</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">'d';</span> <span class="pre">printf</span> <span class="pre">(&quot;%i\n&quot;,</span> <span class="pre">++i));</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">for</span> <span class="pre">(i</span> <span class="pre">=</span> <span class="pre">'a';</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">'d';</span> <span class="pre">printf</span> <span class="pre">(&quot;%c\n&quot;,</span> <span class="pre">++i));</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">for</span> <span class="pre">(i</span> <span class="pre">=</span> <span class="pre">'a';</span> <span class="pre">i++</span> <span class="pre">&lt;</span> <span class="pre">'d';</span> <span class="pre">printf</span> <span class="pre">(&quot;%c\n&quot;,</span> <span class="pre">i</span> <span class="pre">));</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">for</span> <span class="pre">(i</span> <span class="pre">=</span> <span class="pre">'a';</span> <span class="pre">i</span> <span class="pre">&lt;=</span> <span class="pre">'a'</span> <span class="pre">+</span> <span class="pre">25;</span> <span class="pre">printf</span> <span class="pre">(&quot;%c\n&quot;,</span> <span class="pre">i++</span> <span class="pre">));</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">for</span> <span class="pre">(i</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">3;</span> <span class="pre">i</span> <span class="pre">;</span> <span class="pre">printf(&quot;%i\n&quot;,</span> <span class="pre">i++</span> <span class="pre">));</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">for</span> <span class="pre">(i</span> <span class="pre">=</span> <span class="pre">0;</span> <span class="pre">i</span> <span class="pre">!=</span> <span class="pre">1</span> <span class="pre">;</span> <span class="pre">printf(&quot;%i\n&quot;,</span> <span class="pre">i</span> <span class="pre">+=</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">3</span> <span class="pre">));</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">for</span> <span class="pre">(i</span> <span class="pre">=</span> <span class="pre">12,</span> <span class="pre">k</span> <span class="pre">=</span> <span class="pre">1;</span> <span class="pre">k++</span> <span class="pre">&lt;</span> <span class="pre">5</span> <span class="pre">;</span> <span class="pre">printf(&quot;%i\n&quot;,</span> <span class="pre">i--</span> <span class="pre">));</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">for</span> <span class="pre">(i</span> <span class="pre">=</span> <span class="pre">12,</span> <span class="pre">k</span> <span class="pre">=</span> <span class="pre">1;</span> <span class="pre">k++</span> <span class="pre">&lt;</span> <span class="pre">5</span> <span class="pre">;</span> <span class="pre">k++,</span> <span class="pre">printf(&quot;%i\n&quot;,</span> <span class="pre">i--</span> <span class="pre">));</span></code></p></li>
</ol>
</div>
<div class="exercise" id="exercise/7/5">
<p class="caption"><span class="caption-text">Exercice 7.5 Erreur</span><a class="headerlink" href="#exercise/7/5" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Identifier les deux erreurs dans ce code suivant:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="exercise" id="exercise/7/6">
<p class="caption"><span class="caption-text">Exercice 7.6 De un à cent</span><a class="headerlink" href="#exercise/7/6" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Écrivez un programme affichant les entiers de 1 à 100 en employant:</p>
<ol class="arabic simple">
<li><p>Une boucle <code class="docutils literal notranslate"><span class="pre">for</span></code></p></li>
<li><p>Une boucle <code class="docutils literal notranslate"><span class="pre">while</span></code></p></li>
<li><p>Une boucle <code class="docutils literal notranslate"><span class="pre">do..while</span></code></p></li>
</ol>
<p>Quel  est la structure de contrôle la plus adaptée à cette situation ?</p>
</div>
<div class="exercise" id="exercise/7/7">
<p class="caption"><span class="caption-text">Exercice 7.7 Opérateur virgule dans une boucle</span><a class="headerlink" href="#exercise/7/7" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Expliquez quelle est la fonctionnalité globale du programme ci-dessous:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">,</span> <span class="n">j</span><span class="o">++</span><span class="p">,</span> <span class="n">j</span> <span class="o">%=</span> <span class="mi">26</span><span class="p">,</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">))</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%c&quot;</span><span class="p">,</span> <span class="sc">&#39;a&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="n">j</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Proposer une meilleure implémentation de ce programme.</p>
</div>
<div class="exercise" id="exercise/7/8">
<p class="caption"><span class="caption-text">Exercice 7.8 Faute d'erreur</span><a class="headerlink" href="#exercise/7/8" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Considérons les déclarations suivantes:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">long</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">100.0</span><span class="p">;</span>
</pre></div>
</div>
<p>Indiquer la nature de l'erreur dans les expressions suivants:</p>
<ol class="arabic">
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">do</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">;</span>
    <span class="n">i</span><span class="o">++</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mf">1.0</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;0 est interdit !</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">switch</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">100</span><span class="o">:</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Bravo.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Pas encore.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="p">}</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">++</span><span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="exercise" id="exercise/7/9">
<p class="caption"><span class="caption-text">Exercice 7.9 Cas appropriés</span><a class="headerlink" href="#exercise/7/9" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Parmis les cas suivants, quel structure de contrôle utiliser ?</p>
<ol class="arabic simple">
<li><p>Test qu'une variable soit dans un interval donné.</p></li>
<li><p>Actions suivant un choix multiple de l'utilsateur</p></li>
<li><p>Rechercher un caractère particulier dans une chaîne de caractère</p></li>
<li><p>Itérer toutes les valeurs paires sur un interval donné</p></li>
<li><p>Demander la ligne suivante du télégramme à l'utilisateur jusqu'à <code class="docutils literal notranslate"><span class="pre">STOP</span></code></p></li>
</ol>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<ol class="arabic">
<li><dl>
<dt>Le cas est circonscrit à un interval de valeur donnée, le <code class="docutils literal notranslate"><span class="pre">if</span></code> est approprié:</dt><dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="n">min</span> <span class="o">&amp;&amp;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">max</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Dans ce cas un <cite>switch</cite> semble le plus approprié</dt><dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">switch</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
        <span class="cm">/* ... */</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="cm">/* ... */</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>À reformuler <em>tant que le caractère n'est pas trouvé ou que la fin de la chaîne n'est pas atteinte</em>. On se retrouve donc avec une boucle à deux conditions de sorties.</dt><dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">size_t</span> <span class="n">pos</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="n">pos</span> <span class="o">&lt;</span> <span class="n">strlen</span><span class="p">(</span><span class="n">str</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">str</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">!=</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">pos</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">pos</span> <span class="o">==</span> <span class="n">strlen</span><span class="p">(</span><span class="n">str</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// Not found</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Found `c` in `str` at position `pos`</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>La boucle <code class="docutils literal notranslate"><span class="pre">for</span></code> semble ici la plus adaptée</dt><dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">200</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/* ... */</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Il est nécessaire ici d'assurer au moins un tour de boucle:</dt><dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span> <span class="kt">size_t</span> <span class="n">max_line_length</span> <span class="o">=</span> <span class="mi">64</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">format</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="n">snprintf</span><span class="p">(</span><span class="n">format</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">format</span><span class="p">),</span> <span class="s">&quot;%%%zus&quot;</span><span class="p">,</span> <span class="n">max_line_length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">line</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="n">max_lines</span><span class="p">][</span><span class="n">max_line_length</span><span class="p">];</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d. &quot;</span><span class="p">,</span> <span class="n">line</span><span class="p">);</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(</span>
    <span class="n">scanf</span><span class="p">(</span><span class="n">format</span><span class="p">,</span> <span class="n">buffer</span><span class="p">[</span><span class="n">line</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span>
    <span class="n">strcmp</span><span class="p">(</span><span class="n">buffer</span><span class="p">[</span><span class="n">line</span><span class="p">],</span> <span class="s">&quot;STOP&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
    <span class="o">++</span><span class="n">line</span> <span class="o">&lt;</span> <span class="n">max_lines</span>
<span class="p">);</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ol>
</div>
</div>
<div class="exercise" id="exercise/7/10">
<p class="caption"><span class="caption-text">Exercice 7.10 Comptons sur les caractères</span><a class="headerlink" href="#exercise/7/10" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Un texte est passé à un programme par <code class="docutils literal notranslate"><span class="pre">stdin</span></code>. Comptez le nombre de caractères transmis.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">echo</span> <span class="s2">&quot;Hello world&quot;</span> <span class="p">|</span> count-this
<span class="go">11</span>
</pre></div>
</div>
</div>
<div class="exercise" id="exercise/7/11">
<p class="caption"><span class="caption-text">Exercice 7.11 Esperluette conditionnelle</span><a class="headerlink" href="#exercise/7/11" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Quel est le problème avec cette ligne de code ?</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="o">&amp;</span><span class="n">mask</span><span class="o">==</span><span class="n">bits</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>La priorité de l'opérateur unitaire <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> est plus élevée que <code class="docutils literal notranslate"><span class="pre">==</span></code> ce qui se traduit par:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">mask</span> <span class="o">==</span> <span class="n">bits</span><span class="p">))</span>
</pre></div>
</div>
<p>Le développeur voulait probablement appliquer le masque à <code class="docutils literal notranslate"><span class="pre">x</span></code> puis le comparer au motif <code class="docutils literal notranslate"><span class="pre">bits</span></code>. La bonne réponse devrait alors être:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">((</span><span class="n">x</span> <span class="o">&amp;</span> <span class="n">mask</span><span class="p">)</span> <span class="o">==</span> <span class="n">bits</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<h1>8. Programmes et Processus<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/8/1">
<p class="caption"><span class="caption-text">Exercice 8.1 La fortune, la vache qui dit et le chat drôle</span><a class="headerlink" href="#exercise/8/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>En rappelant l'historique des dernières commandes exécutées sur l'ordinateur du professeur pendant qu'il avait le dos tourné, vous tombez sur cette commande:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> fortune <span class="p">|</span> cowsay <span class="p">|</span> lolcat
</pre></div>
</div>
<p>Quelle est sa structure et que fait-elle ?</p>
</div>
<h1>9. Entrées Sorties<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/9/1">
<p class="caption"><span class="caption-text">Exercice 9.1 Mot du jour</span><a class="headerlink" href="#exercise/9/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Écrire un programme qui retourne un mot parmi une liste de mot, de facon aléatoire.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;time.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>

<span class="kt">char</span> <span class="o">*</span><span class="n">words</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;Albédo&quot;</span><span class="p">,</span> <span class="s">&quot;Bigre&quot;</span><span class="p">,</span> <span class="s">&quot;Maringouin&quot;</span><span class="p">,</span> <span class="s">&quot;Pluripotent&quot;</span><span class="p">,</span> <span class="s">&quot;Entrechat&quot;</span><span class="p">,</span> <span class="s">&quot;Caracoler&quot;</span> <span class="s">&quot;Palinodie&quot;</span><span class="p">,</span> <span class="s">&quot;Sémillante&quot;</span><span class="p">,</span> <span class="s">&quot;Atavisme&quot;</span><span class="p">,</span> <span class="s">&quot;Cyclothymie&quot;</span><span class="p">,</span> <span class="s">&quot;Idiosyncratique&quot;</span><span class="p">,</span> <span class="s">&quot;Entéléchie&quot;</span><span class="p">};</span>

<span class="cp">#if 0</span><span class="c"></span>
<span class="c">    srand(time(NULL));   // Initialization, should only be called once.</span>
<span class="c">    size_t r = rand() % sizeof(words) / sizeof(char*); // Generate random value</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;time.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>

<span class="kt">char</span> <span class="o">*</span><span class="n">words</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;Albédo&quot;</span><span class="p">,</span> <span class="s">&quot;Bigre&quot;</span><span class="p">,</span> <span class="s">&quot;Maringouin&quot;</span><span class="p">,</span> <span class="s">&quot;Pluripotent&quot;</span><span class="p">,</span> <span class="s">&quot;Entrechat&quot;</span><span class="p">,</span> <span class="s">&quot;Caracoler&quot;</span> <span class="s">&quot;Palinodie&quot;</span><span class="p">,</span> <span class="s">&quot;Sémillante&quot;</span><span class="p">,</span> <span class="s">&quot;Atavisme&quot;</span><span class="p">,</span> <span class="s">&quot;Cyclothymie&quot;</span><span class="p">,</span> <span class="s">&quot;Idiosyncratique&quot;</span><span class="p">,</span> <span class="s">&quot;Entéléchie&quot;</span><span class="p">};</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">srand</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
    <span class="n">puts</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">))]);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/9/2">
<p class="caption"><span class="caption-text">Exercice 9.2 Quelque bogues bien formatés</span><a class="headerlink" href="#exercise/9/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Indiquez les erreurs dans les instructions suivantes:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d, %d, %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d, %d, %d, %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mf">40.</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%*d, %*d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%6.2f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%10s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="mh">0x9f</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="exercise" id="exercise/9/3">
<p class="caption"><span class="caption-text">Exercice 9.3 scanf sur des entiers et des réels</span><a class="headerlink" href="#exercise/9/3" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Considérant les déclarations:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">f</span><span class="p">;</span>
</pre></div>
</div>
<p>Donnez les valeurs de chacune des variables après exécution. Chaque ligne est indépendante des autres.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="n">sscanf</span><span class="p">(</span><span class="s">&quot;1 12.5&quot;</span><span class="p">,</span> <span class="s">&quot;%d %d, &amp;j, &amp;k);</span>
<span class="n">sscanf</span><span class="p">(</span><span class="s">&quot;12.5&quot;</span><span class="p">,</span> <span class="s">&quot;%d %f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">j</span><span class="p">,</span> <span class="o">%</span><span class="n">f</span><span class="p">);</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">sscanf</span><span class="p">(</span><span class="s">&quot;123 123&quot;</span><span class="p">,</span> <span class="s">&quot;%d %f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">j</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">f</span><span class="p">);</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">sscanf</span><span class="p">(</span><span class="s">&quot;123a 123&quot;</span><span class="p">,</span> <span class="s">&quot;%d %f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">j</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">f</span><span class="p">);</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">sscanf</span><span class="p">(</span><span class="s">&quot;%2d%2d%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">j</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">k</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">f</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="exercise" id="exercise/9/4">
<p class="caption"><span class="caption-text">Exercice 9.4 Saisie de valeurs</span><a class="headerlink" href="#exercise/9/4" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Considérant les déclarations suivantes, donner la valeur des variables après l'exécution des instructions données avec les captures associées:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%1d%1d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">12\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%d%d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">,</span> <span class="pre">2\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%d%d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">-1</span>&#160;&#160; <span class="pre">-2\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%d%d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span>&#160; <span class="pre">1</span>&#160; <span class="pre">-</span>&#160; <span class="pre">2\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%d,%d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span>&#160; <span class="pre">,</span>&#160; <span class="pre">2\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%d</span> <span class="pre">,%d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span>&#160; <span class="pre">,</span>&#160; <span class="pre">2\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%4d</span> <span class="pre">%2d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">234\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%4d</span> <span class="pre">%2d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">1234567\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%d%*d%d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">123</span> <span class="pre">456</span> <span class="pre">789\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;i=%d</span> <span class="pre">,</span> <span class="pre">j=%d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">,</span> <span class="pre">2\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;i=%d</span> <span class="pre">,</span> <span class="pre">j=%d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">i=1,</span> <span class="pre">j=2\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%d%d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">1.23</span> <span class="pre">4.56\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%d.%d&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">1.23</span> <span class="pre">4.56\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%x%x&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">12</span> <span class="pre">2a\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%x%x&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">0x12</span> <span class="pre">0X2a\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%o%o&quot;,</span> <span class="pre">&amp;i,</span> <span class="pre">&amp;j);</span></code>, <code class="docutils literal notranslate"><span class="pre">12</span> <span class="pre">018\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%f&quot;,</span> <span class="pre">&amp;x);</span></code>, <code class="docutils literal notranslate"><span class="pre">123\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%f&quot;,</span> <span class="pre">&amp;x);</span></code>, <code class="docutils literal notranslate"><span class="pre">1.23\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%f&quot;,</span> <span class="pre">&amp;x);</span></code>, <code class="docutils literal notranslate"><span class="pre">123E4\n</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">scanf(&quot;%e&quot;,</span> <span class="pre">&amp;x);</span></code>, <code class="docutils literal notranslate"><span class="pre">12\n</span></code></p></li>
</ol>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 1, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 2, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 1, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 0, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 1. <code class="docutils literal notranslate"><span class="pre">j</span></code> n'est pas lue car arrêt prématuré sur <code class="docutils literal notranslate"><span class="pre">,</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: -1, <code class="docutils literal notranslate"><span class="pre">j</span></code>: -2, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 0, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 0, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 0. <code class="docutils literal notranslate"><span class="pre">i</span></code> n'est pas lue car arrêt prématuré sur <code class="docutils literal notranslate"><span class="pre">-</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 1, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 0, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 1, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 2, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 1, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 23, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 1234, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 56, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 123, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 789, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 0, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 0, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 0</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 1, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 2, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 1, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 0, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 1, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 23, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 18, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 42, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: 10, <code class="docutils literal notranslate"><span class="pre">j</span></code>: 1, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 2. Le chiffre 8 interdit en octal provoque un arrêt</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: <code class="docutils literal notranslate"><span class="pre">123.</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: <code class="docutils literal notranslate"><span class="pre">1.23</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: <code class="docutils literal notranslate"><span class="pre">1.23E6</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: <code class="docutils literal notranslate"><span class="pre">12</span></code>, <code class="docutils literal notranslate"><span class="pre">n</span></code>: 1</p></li>
</ol>
</div>
</div>
<div class="exercise" id="exercise/9/5">
<p class="caption"><span class="caption-text">Exercice 9.5 Chaînes de formats</span><a class="headerlink" href="#exercise/9/5" title="Lien permanent vers cet exercice">¶</a></span></p>
<ol class="arabic simple">
<li><p>Saisir 3 caractères consécutifs dans des variables <code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">j</span></code>, <code class="docutils literal notranslate"><span class="pre">k</span></code>.</p></li>
<li><p>Saisir 3 nombres de type float séparés par un point-virgule et un nombre quelconque d'espaces dans des variables <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> et <code class="docutils literal notranslate"><span class="pre">z</span></code>.</p></li>
<li><p>Saisir 3 nombres de type double en affichant avant chaque saisie le nom de la variable et un signe <code class="docutils literal notranslate"><span class="pre">=</span></code>, dans des variables <code class="docutils literal notranslate"><span class="pre">t</span></code>, <code class="docutils literal notranslate"><span class="pre">u</span></code> et <code class="docutils literal notranslate"><span class="pre">v</span></code>.</p></li>
</ol>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<ol class="arabic">
<li><dl>
<dt>Saisir 3 caractères consécutifs dans des variables <code class="docutils literal notranslate"><span class="pre">i</span></code>, <code class="docutils literal notranslate"><span class="pre">j</span></code>, <code class="docutils literal notranslate"><span class="pre">k</span></code>.</dt><dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%c%c%c&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">j</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">k</span><span class="p">);</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Saisir 3 nombres de type float séparés par un point-virgule et un nombre quelconque d'espaces dans des variables <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> et <code class="docutils literal notranslate"><span class="pre">z</span></code>.</dt><dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f ;%f ;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">z</span><span class="p">);</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl>
<dt>Saisir 3 nombres de type double en affichant avant chaque saisie le nom de la variable et un signe <code class="docutils literal notranslate"><span class="pre">=</span></code>, dans des variables <code class="docutils literal notranslate"><span class="pre">t</span></code>, <code class="docutils literal notranslate"><span class="pre">u</span></code> et <code class="docutils literal notranslate"><span class="pre">v</span></code>.</dt><dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;t=&quot;</span><span class="p">);</span> <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;u=&quot;</span><span class="p">);</span> <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">u</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;v=&quot;</span><span class="p">);</span> <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">v</span><span class="p">);</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ol>
</div>
</div>
<div class="exercise" id="exercise/9/6">
<p class="caption"><span class="caption-text">Exercice 9.6 Bugs</span><a class="headerlink" href="#exercise/9/6" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Parmi les instructions ci-dessous, indiquez celles qui sont coorectes et celle qui comportent des erreurs. Pour celles comportant des erreurs, détaillez la nature des anomalies.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">short</span> <span class="n">i</span><span class="p">;</span>
<span class="kt">long</span> <span class="n">j</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">u</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">x</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">y</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="n">scanf</span><span class="p">(</span><span class="o">&amp;</span><span class="n">i</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">);</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d%ld&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">u</span><span class="p">);</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d%ld&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%u&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">u</span><span class="p">);</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">u</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Incorrect ! Le premier paramètre de printf doit être la chaîne de format.</span>
<span class="n">printf</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>

<span class="c1">// Incorrect ! Le premier paramètre de scanf doit être la chaine de format.</span>
<span class="n">scanf</span><span class="p">(</span><span class="o">&amp;</span><span class="n">i</span><span class="p">);</span>

<span class="c1">// Correct, mais surprenant.</span>
<span class="c1">// Cette instruction affichera l’adresse de I, et non pas sa valeur !</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">);</span>

<span class="c1">// Incorrect. Le paramètre i est de type short, alors que la chaîne de</span>
<span class="c1">// format spécifie un type int. Fonctionnera sur les machines dont le type</span>
<span class="c1">// short et int sont identiques</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">);</span>

<span class="c1">// Incorrect, la troisième variable passée en paramètre ne sera pas affichée.</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d%ld&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">u</span><span class="p">);</span>

<span class="c1">// Incorrect ! Le premier paramètre est de type short alors que int</span>
<span class="c1">// est spécifié dans la chaîne de format.</span>
<span class="c1">// Le deuxième paramètre n’est pas passé par adresse, ce qui va</span>
<span class="c1">// probablement causer une erreur fatale.</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d%ld&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>

<span class="c1">// Correct, mais étonnant. Affiche l’adresse de la variable u.</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%u&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">u</span><span class="p">);</span>

<span class="c1">// Incorrect ! Le paramètre est de type unsigned short, alors que</span>
<span class="c1">// la chaîne de format spécifie int. Fonctionnera pour les valeurs</span>
<span class="c1">// positives sur les machines dont le type short et int sont identiques.</span>
<span class="c1">// Pour les valeurs négatives, le résultat sera l’interprétation non</span>
<span class="c1">// signée de la valeur en complément à 2.</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">u</span><span class="p">);</span>

<span class="c1">// Correct, mais x est traité comme double.</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>

<span class="c1">// Correct.</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">);</span>

<span class="c1">// Correct ! %f est traité comme double par printf !</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>

<span class="c1">// Incorrect ! La chaîne de format spécifie float,</span>
<span class="c1">// le paramètre passé est l’adresse d’une variable de type double.</span>
<span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/9/7">
<p class="caption"><span class="caption-text">Exercice 9.7 Test de saisir correcte</span><a class="headerlink" href="#exercise/9/7" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Écrivez un programme déclarant des variables réelles <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> et <code class="docutils literal notranslate"><span class="pre">z</span></code>, permettant de
saisir leur valeur en une seule instruction, et vérifiant que les 3 valeurs ont bien
été assignées. Dans le cas contraire, afficher un message du type &quot;données
invalides&quot;.</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Donnez les valeurs de x, y et z :&quot;</span><span class="p">);</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f%f%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">z</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;Erreur de saisie.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/9/8">
<p class="caption"><span class="caption-text">Exercice 9.8 Produit scalaire</span><a class="headerlink" href="#exercise/9/8" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Écrire un programme effectuant les opérations suivantes:</p>
<ul class="simple">
<li><p>Saisir les coordonnées réelles <code class="docutils literal notranslate"><span class="pre">x1</span></code> et <code class="docutils literal notranslate"><span class="pre">y1</span></code> d’un vecteur <code class="docutils literal notranslate"><span class="pre">v1</span></code>.</p></li>
<li><p>Saisir les coordonnées réelles <code class="docutils literal notranslate"><span class="pre">x2</span></code> et <code class="docutils literal notranslate"><span class="pre">y2</span></code> d’un vecteur <code class="docutils literal notranslate"><span class="pre">v2</span></code>.</p></li>
<li><p>Calculer le produit scalaire. Afficher un message indiquant si les vecteurs sont orthogonaux ou non.</p></li>
</ul>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">float</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Coordonnees du vecteur v1 separees par un </span><span class="se">\&quot;</span><span class="s">;</span><span class="se">\&quot;</span><span class="s"> :</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f ;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y1</span><span class="p">);</span>

    <span class="kt">float</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Coordonnees du vecteur v2 separees par un </span><span class="se">\&quot;</span><span class="s">;</span><span class="se">\&quot;</span><span class="s"> :</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f ;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x2</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y2</span><span class="p">);</span>

    <span class="kt">float</span> <span class="n">dot_product</span> <span class="o">=</span> <span class="n">x1</span> <span class="o">*</span> <span class="n">x2</span> <span class="o">+</span> <span class="n">y1</span> <span class="o">*</span> <span class="n">y2</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Produit scalaire : %f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">dot_product</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">dot_product</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Les vecteurs sont orthogonaux.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Ce programme risque de ne pas bien détecter l’orthogonalité de certains vecteurs, car le test d’égalité à 0 avec les virgules flottantes pourrait mal fonctionner. En effet, pour deux vecteurs orthogonaux, les erreurs de calcul en virgule flottante pourraient amener à un produit scalaire calculé très proche mais cependant différent de zéro.
On peut corriger ce problème en modifiant le test pour vérifier si le produit scalaire est très petit, par exemple compris entre <code class="docutils literal notranslate"><span class="pre">-0.000001</span></code> et <code class="docutils literal notranslate"><span class="pre">+0.000001</span></code>:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">dot_product</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mf">1E-6</span> <span class="o">&amp;&amp;</span> <span class="n">dot_product</span> <span class="o">&lt;=</span> <span class="mf">1E-6</span><span class="p">)</span>
</pre></div>
</div>
<p>Ce qui peut encore s’écrire en utilisant la fonction valeur absolue :</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">fabs</span><span class="p">(</span><span class="n">dot_product</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mf">1E-6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/9/9">
<p class="caption"><span class="caption-text">Exercice 9.9 Crampes de doigts</span><a class="headerlink" href="#exercise/9/9" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Votre collègue n'a pas cessé de se plaindre de crampes... aux doigts... Il a écrit le programme suivant avant de prendre congé pour se rendre chez son médecin.</p>
<p>Grâce à votre esprit affuté et votre oeil perçant, vous identifiez 13 erreurs. Lesquelles sont-elles ?</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>#include &lt;std_io.h&gt;
#jnclude &lt;stdlib.h&gt;
INT Main()
{
int a, sum;
printf(&quot;Addition de 2 entiers a et b.\n&quot;);

printf(&quot;a: &quot;)
scanf(&quot;%d&quot;, a);

printf(&quot;b: &quot;);
scanf(&quot;%d&quot;, &amp;b);

/* Affichage du résultat
somme = a - b;
Printf(&quot;%d + %d = %d\n&quot;, a, b, sum);

retturn EXIT_FAILURE;
}
}
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Une fois la correction effectuée, vous utilisez l'outil de <code class="docutils literal notranslate"><span class="pre">diff</span></code> pour montrer les différences:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span>1,3c1,3
&lt;         #include &lt;stdio.h&gt;
&lt;         #include &lt;stdlib.h&gt;
&lt;         int main()
<span class="gd">---</span>
&gt;         #include &lt;std_io.h&gt;
&gt;         #jnclude &lt;stdlib.h&gt;
&gt;         INT Main()
5c5
&lt;         int a, b, sum;
<span class="gd">---</span>
&gt;         int a, sum;
9c9
&lt;         scanf(&quot;%d&quot;, &amp;a);
<span class="gd">---</span>
&gt;         scanf(&quot;%d&quot;, a);
14,16c14,16
&lt;         /* Affichage du résultat */
&lt;         sum = a + b;
&lt;         printf(&quot;%d + %d = %d\n&quot;, a, b, sum);
<span class="gd">---</span>
&gt;         /* Affichage du résultat
&gt;         somme = a - b;
&gt;         Printf(&quot;%d + %d = %d\n&quot;, a, b, sum);
18c18,19
&lt;         return EXIT_SUCCESS;
<span class="gd">---</span>
&gt;         retturn EXIT_FAILURE;
&gt;         }
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/9/10">
<p class="caption"><span class="caption-text">Exercice 9.10 Géométrie affine</span><a class="headerlink" href="#exercise/9/10" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Considérez le programme suivant:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">float</span> <span class="n">a</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;a = &quot;</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">);</span>

    <span class="kt">float</span> <span class="n">b</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;b = &quot;</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">b</span><span class="p">);</span>

    <span class="kt">float</span> <span class="n">x</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;x = &quot;</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">);</span>

    <span class="kt">float</span> <span class="n">y</span> <span class="o">=</span> <span class="n">a</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;y = %f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>À quelle ligne commence l'exécution de ce programme ?</p></li>
<li><p>Dans quel ordre s'exécutent les instructions ?</p></li>
<li><p>Décrivez ce que fait ce programme étape par étape</p></li>
<li><p>Que verra l'utilisateur à l'écran ?</p></li>
<li><p>Quelle est l'utilité de ce programme ?</p></li>
</ol>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<ol class="arabic simple">
<li><p>Ligne 6</p></li>
<li><p>C est un langage impératif, l'ordre est séquentiel du haut vers le bas</p></li>
<li><dl class="simple">
<dt>Les étapes sont les suivantes:</dt><dd><ol class="arabic simple">
<li><p>Demande de la valeur de <code class="docutils literal notranslate"><span class="pre">a</span></code> à l'utilisateur</p></li>
<li><p>Demande de la valeur de <code class="docutils literal notranslate"><span class="pre">b</span></code> à l'utilisateur</p></li>
<li><p>Demande de la valeur de <code class="docutils literal notranslate"><span class="pre">x</span></code> à l'utilisateur</p></li>
<li><p>Calcul de l'image affine de <code class="docutils literal notranslate"><span class="pre">x</span></code> (équation de droite)</p></li>
<li><p>Affichage du résultat</p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Que verra l'utilisateur à l'écran ?</dt><dd><ol class="arabic simple">
<li><p>Il verra <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">12</span></code> pour <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">2;</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">5;</span> <span class="pre">b</span> <span class="pre">=</span> <span class="pre">2</span></code></p></li>
</ol>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Quelle est l'utilité de ce programme ?</dt><dd><ol class="arabic simple">
<li><p>Le calcul d'un point d'une droite</p></li>
</ol>
</dd>
</dl>
</li>
</ol>
</div>
</div>
<div class="exercise" id="exercise/9/11">
<p class="caption"><span class="caption-text">Exercice 9.11 Équation de droite</span><a class="headerlink" href="#exercise/9/11" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>L'exercice précédent souffre de nombreux défauts. Sauriez-vous les identifier et perfectionner l'implémentation de ce programme ?</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Citons les défauts de ce programme:</p>
<ul class="simple">
<li><p>Le programme ne peut pas être utilisé avec les arguments, uniquement en mode interactif</p></li>
<li><p>Les invités de dialogue <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">``,</span> <span class="pre">``b</span> <span class="pre">=</span> <span class="pre">``</span> <span class="pre">ne</span> <span class="pre">sont</span> <span class="pre">pas</span> <span class="pre">clair,</span> <span class="pre">``a</span></code> et <code class="docutils literal notranslate"><span class="pre">b</span></code> sont associés à quoi ?</p></li>
<li><p>La valeur de retour n'est pas exploitable directement.</p></li>
<li><p>Le nom des variables utilisé n'est pas clair.</p></li>
<li><p>Aucune valeur par défaut.</p></li>
</ul>
<p>Une solution possible serait:</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">linear.c</span></span><a class="headerlink" href="#id13" title="Lien permanent vers ce code">¶</a></div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span>        <span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
        <span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>

        <span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
        <span class="p">{</span>
            <span class="kt">float</span> <span class="n">x</span><span class="p">;</span>
            <span class="kt">float</span> <span class="n">offset</span><span class="p">;</span>
            <span class="kt">float</span> <span class="n">slope</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">offset</span> <span class="o">=</span> <span class="n">atof</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
                <span class="n">slope</span> <span class="o">=</span> <span class="n">atof</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="kt">float</span> <span class="n">offset_default</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">;</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Offset? [%f]: &quot;</span><span class="p">,</span> <span class="n">offset_default</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">offset</span><span class="p">))</span> <span class="p">{</span>
                    <span class="n">offset</span> <span class="o">=</span> <span class="n">offset_default</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="kt">float</span> <span class="n">slope_default</span> <span class="o">=</span> <span class="mf">1.</span><span class="p">;</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Pente? [%f]: &quot;</span><span class="p">,</span> <span class="n">slope_default</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">slope</span><span class="p">))</span> <span class="p">{</span>
                    <span class="n">slope</span> <span class="o">=</span> <span class="n">slope_default</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">argc</span> <span class="o">==</span> <span class="mi">2</span> <span class="o">||</span> <span class="n">argc</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">slope</span> <span class="o">=</span> <span class="n">atof</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">argc</span> <span class="o">==</span> <span class="mi">2</span> <span class="o">?</span> <span class="mi">2</span><span class="o">:</span> <span class="mi">3</span><span class="p">]);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="kt">float</span> <span class="n">x_default</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">&quot;x (abscisse) [%f]:&quot;</span><span class="p">,</span> <span class="n">x_default</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">))</span> <span class="p">{</span>
                    <span class="n">x</span> <span class="o">=</span> <span class="n">x_default</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">slope</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="n">offset</span><span class="p">);</span>

            <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="exercise" id="exercise/9/12">
<p class="caption"><span class="caption-text">Exercice 9.12 Loi d'Ohm</span><a class="headerlink" href="#exercise/9/12" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Écrivez un programme demandant deux réels <code class="docutils literal notranslate"><span class="pre">tension</span></code> et <code class="docutils literal notranslate"><span class="pre">résistance</span></code>, et affichez ensuite le <code class="docutils literal notranslate"><span class="pre">courant</span></code>. Prévoir un test pour le cas où la résistance serait nulle.</p>
</div>
<div class="exercise" id="exercise/9/13">
<p class="caption"><span class="caption-text">Exercice 9.13 Tour Eiffel</span><a class="headerlink" href="#exercise/9/13" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Considérons le programme suivant:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;math.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Quel angle mesurez-vous en visant le sommet du bâtiment (en degrés): &quot;</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">angle_degre</span><span class="p">;</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">angle_degrees</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">angle_radian</span> <span class="o">=</span> <span class="n">angle_degrees</span> <span class="o">*</span> <span class="n">M_PI</span> <span class="o">/</span> <span class="mf">45.</span><span class="p">;</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;À quelle distance vous trouvez vous du bâtiment (en mètres): &quot;</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">distance</span><span class="p">;</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%f&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">distance</span><span class="p">);</span>

    <span class="kt">float</span> <span class="n">height</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">/</span> <span class="n">tan</span><span class="p">(</span><span class="n">angle_radian</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;La hauteur du bâtiment est : %g mètres.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Que fait le programme étape par étape ?</p></li>
<li><p>Que verra l'utilisateur à l'écran ?</p></li>
<li><p>À quoi sert ce programme ?</p></li>
<li><p>Euh, mais ? Ce programme comporte des erreurs, lesquelles ?</p></li>
<li><p>Implémentez-le et testez-le.</p></li>
</ol>
</div>
<div class="exercise" id="exercise/9/14">
<p class="caption"><span class="caption-text">Exercice 9.14 Hyperloop</span><a class="headerlink" href="#exercise/9/14" title="Lien permanent vers cet exercice">¶</a></span></p>
<p><a class="reference external" href="https://fr.wikipedia.org/wiki/Hyperloop">Hyperloop</a> (aussi orthographié <strong>Hyperl∞p</strong>) est un projet ambitieux d'Elon Musk visant à construire un moyen de transport ultra rapide utilisant des capsules voyageant dans un tube sous vide. Ce projet est analogue à celui étudié en suisse et nommé <a class="reference external" href="https://fr.wikipedia.org/wiki/Swissmetro">Swissmetro</a>, mais abandonné en 2009.</p>
<p>Néanmoins, les ingénieurs suisses avaient à l'époque écrit un programme pour calculer, compte tenu d'une vitesse donnée, le temps de parcours entre deux villes de Suisse.</p>
<p>Écrire un programme pour calculer la distance entre deux villes de suisse parmi lesquelles proposées sont:</p>
<ul class="simple">
<li><p>Genève</p></li>
<li><p>Zürich</p></li>
<li><p>Bâle</p></li>
<li><p>Bern</p></li>
<li><p>St-Galle</p></li>
</ul>
<p>Considérez une accélération de 0.5 g pour le calcul de mouvement, et une vitesse maximale de 1220 km/h.</p>
</div>
<h1>10. Fonctions<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/10/1">
<p class="caption"><span class="caption-text">Exercice 10.1 Dans la moyenne</span><a class="headerlink" href="#exercise/10/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Écrire une fonction <code class="docutils literal notranslate"><span class="pre">mean</span></code> qui reçoit 3 paramètres réels et qui retourne la moyenne.</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="nf">mean</span><span class="p">(</span><span class="kt">double</span> <span class="n">a</span><span class="p">,</span> <span class="kt">double</span> <span class="n">b</span><span class="p">,</span> <span class="kt">double</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span><span class="p">)</span> <span class="o">/</span> <span class="mf">3.</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/10/2">
<p class="caption"><span class="caption-text">Exercice 10.2 Le plus petit</span><a class="headerlink" href="#exercise/10/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Écrire une fonction <code class="docutils literal notranslate"><span class="pre">min</span></code> qui reçoit 3 paramètres réels et qui retourne la plus petite valeur.</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="nf">min</span><span class="p">(</span><span class="kt">double</span> <span class="n">a</span><span class="p">,</span> <span class="kt">double</span> <span class="n">b</span><span class="p">,</span> <span class="kt">double</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">double</span> <span class="n">min_value</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">b</span> <span class="o">&lt;</span> <span class="n">min_value</span><span class="p">)</span>
        <span class="n">min_value</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">c</span> <span class="o">&lt;</span> <span class="n">min_value</span><span class="p">)</span>
        <span class="n">min_value</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">min_value</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Une manière plus compacte, mais moins lisible serait:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="nf">min</span><span class="p">(</span><span class="kt">double</span> <span class="n">a</span><span class="p">,</span> <span class="kt">double</span> <span class="n">b</span><span class="p">,</span> <span class="kt">double</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span> <span class="o">?</span> <span class="nl">a</span> <span class="p">:</span> <span class="n">b</span><span class="p">))</span> <span class="o">&lt;</span> <span class="n">c</span> <span class="o">?</span> <span class="nl">a</span> <span class="p">:</span> <span class="n">c</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/10/3">
<p class="caption"><span class="caption-text">Exercice 10.3 Algorithme de retour de monnaie</span><a class="headerlink" href="#exercise/10/3" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>On considère le cas d'une caisse automatique de parking. Cette caisse délivre des tickets au prix unique de CHF 0.50 et dispose d'un certain nombre de pièces de 10 et 20 centimes pour le rendu de monnaie.</p>
<p>Dans le code du programme, les trois variables suivantes seront utilisées:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Available coins in the parking ticket machine</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">ncoin_10</span><span class="p">,</span> <span class="n">ncoin_20</span><span class="p">;</span>

<span class="c1">// How much money the user inserted into the machine (in cents)</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">amount_payed</span><span class="p">;</span>
</pre></div>
</div>
<p>Écrivez l'algorithme de rendu de la monnaie tenant compte du nombre de pièces de 10 et 20 centimes restants dans l'appareil. Voici un exemple du fonctionnement du programme:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">echo</span> <span class="s2">&quot;10 10 20 20 20&quot;</span> <span class="p">|</span> ./ptm <span class="m">30</span> <span class="m">1</span>
<span class="go">ticket</span>
<span class="go">20</span>
<span class="go">10</span>
</pre></div>
</div>
<p>Le programme reçois sur <code class="docutils literal notranslate"><span class="pre">stdin</span></code> les pièces introduites dans la machine. Les deux arguments passés au programme <code class="docutils literal notranslate"><span class="pre">ptm</span></code> sont 1. le nombre de pièces de 10 centimes disponibles et 2. le nombre de pièces de 20 centimes disponibles. <code class="docutils literal notranslate"><span class="pre">stdout</span></code> contient les valeurs rendue à l'utilisateur. La valeur <code class="docutils literal notranslate"><span class="pre">ticket</span></code> correspond au ticket distribué.</p>
<p>Le cas échéant, s'il n'est possible de rendre la monnaie, aucun ticket n'est distribué et l'argent donné est rendu.</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>Voici une solution partielle:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define TICKET_PRICE 50</span>

<span class="kt">void</span> <span class="nf">give_coin</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">value</span><span class="p">)</span> <span class="p">{</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span> <span class="p">}</span>
<span class="kt">void</span> <span class="nf">give_ticket</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;ticket</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span> <span class="p">}</span>

<span class="kt">bool</span> <span class="n">no_ticket</span> <span class="o">=</span> <span class="n">amount_payed</span> <span class="o">&lt;</span> <span class="n">TICKET_PRICE</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">amount_to_return</span> <span class="o">=</span> <span class="n">amount_payed</span> <span class="o">-</span> <span class="n">TICKET_PRICE</span><span class="p">;</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">amount_to_return</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">amount_to_return</span> <span class="o">&gt;=</span> <span class="mi">20</span> <span class="o">&amp;&amp;</span> <span class="n">ncoin_20</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">give_coin</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
            <span class="n">amount_to_return</span> <span class="o">-=</span> <span class="mi">20</span><span class="p">;</span>
            <span class="n">ncoin_20</span><span class="o">--</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">amount_to_return</span> <span class="o">&gt;=</span> <span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="n">ncoin_10</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">give_coin</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
            <span class="n">amount_to_return</span> <span class="o">-=</span> <span class="mi">10</span><span class="p">;</span>
            <span class="n">ncoin_10</span><span class="o">--</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">no_ticket</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">amount_to_return</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">no_ticket</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">give_ticket</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/10/4">
<p class="caption"><span class="caption-text">Exercice 10.4 La fonction f</span><a class="headerlink" href="#exercise/10/4" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Considérons le programme suivant:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">f</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mf">0.0</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">x</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">);</span>
    <span class="k">else</span>
        <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">x</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Quel sont les types et les valeurs retournées par les expressions ci-dessous ?</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">(</span><span class="mf">1.2</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="o">-</span><span class="mf">1.2</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="mf">1.6</span><span class="p">)</span>
<span class="n">f</span><span class="p">(</span><span class="o">-</span><span class="mf">1.6</span><span class="p">)</span>
</pre></div>
</div>
<p>Quel est votre conclusion sur cette fonction ?</p>
</div>
<div class="exercise" id="exercise/10/5">
<p class="caption"><span class="caption-text">Exercice 10.5 Mauvaise somme</span><a class="headerlink" href="#exercise/10/5" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Le programme suivant compile sans erreurs graves mais ne fonctionne pas correctement.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;math.h&gt;</span><span class="cp"></span>

<span class="kt">long</span> <span class="nf">get_integer</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">bool</span> <span class="n">ok</span><span class="p">;</span>
    <span class="kt">long</span> <span class="n">result</span><span class="p">;</span>
    <span class="k">do</span>
    <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Enter a integer value: &quot;</span><span class="p">);</span>
        <span class="n">fflush</span><span class="p">(</span><span class="n">stdin</span><span class="p">);</span> <span class="c1">// Empty input buffer</span>
        <span class="n">ok</span> <span class="o">=</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%ld&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">result</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ok</span><span class="p">)</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Incorrect value.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">ok</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">long</span> <span class="n">a</span> <span class="o">=</span> <span class="n">get_integer</span><span class="p">;</span>
    <span class="kt">long</span> <span class="n">b</span> <span class="o">=</span> <span class="n">get_integer</span><span class="p">;</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Quel est le problème ? A titre d'information voici ce que le programme donne, notez que l'invité de saisie n'est jamais apparue:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span>$ ./sum
8527952
</pre></div>
</div>
</div>
<h1>11. Types composites<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/11/1">
<p class="caption"><span class="caption-text">Exercice 11.1 </span><a class="headerlink" href="#exercise/11/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Écrire un programme qui lit la taille d'un tableau de cinquante entiers de 8 bytes et assigne à chaque élément la valeur de son indice.</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int64_t</span> <span class="n">a</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/11/2">
<p class="caption"><span class="caption-text">Exercice 11.2 Première position</span><a class="headerlink" href="#exercise/11/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Soit un tableau d'entiers, écrire une fonction retournant la position de la première occurence d'une valeur dans le tableau.</p>
<p>Traitez les cas particuliers.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">index_of</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">,</span> <span class="kt">int</span> <span class="n">search</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">index_of</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">array</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">size</span><span class="p">,</span> <span class="kt">int</span> <span class="n">search</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span> <span class="o">&amp;&amp;</span> <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">]</span> <span class="o">!=</span> <span class="n">search</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">i</span> <span class="o">==</span> <span class="n">size</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/11/3">
<p class="caption"><span class="caption-text">Exercice 11.3 Déclarations de tableaux</span><a class="headerlink" href="#exercise/11/3" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Considérant les déclarations suivantes:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define LIMIT 10</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">twelve</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</div>
<p>Indiquez si les déclarations suivantes (qui n'ont aucun lien entre elles), sont correcte ou non.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">t</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">k</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">l</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">i</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">t</span><span class="p">[</span><span class="n">LIMITE</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">t</span><span class="p">[</span><span class="n">douze</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">t</span><span class="p">[</span><span class="n">LIMITE</span> <span class="o">+</span> <span class="mi">3</span><span class="p">];</span>
<span class="kt">float</span> <span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="cm">/* five */</span> <span class="mi">5</span><span class="p">];</span>
<span class="kt">float</span> <span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>        <span class="p">[</span><span class="mi">5</span><span class="p">];</span>
</pre></div>
</div>
</div>
<div class="exercise" id="exercise/11/4">
<p class="caption"><span class="caption-text">Exercice 11.4 </span><a class="headerlink" href="#exercise/11/4" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Soit deux tableaux <cite>char u[]</cite> et <cite>char v[]</cite>, écrire une fonction comparant leur contenu et retournant:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">0</span></code></dt><dd><p>La somme des deux tableaux est égale.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-1</span></code></dt><dd><p>La somme du tableau de gauche est plus petite que le tableau de droite</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">1</span></code></dt><dd><p>La somme du tableau de droite est plus grande que le tableau de gauche</p>
</dd>
</dl>
<p>Le prototype de la fonction à écrire est:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">comp</span><span class="p">(</span><span class="kt">char</span> <span class="n">a</span><span class="p">[],</span> <span class="kt">char</span> <span class="n">b</span><span class="p">[],</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">comp</span><span class="p">(</span><span class="kt">char</span> <span class="n">a</span><span class="p">[],</span> <span class="kt">char</span> <span class="n">b</span><span class="p">[],</span> <span class="kt">size_t</span> <span class="n">length</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">sum_a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sum_b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">sum_a</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="n">sum_b</span> <span class="o">+=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">sum_b</span> <span class="o">-</span> <span class="n">sum_a</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/11/5">
<p class="caption"><span class="caption-text">Exercice 11.5 Le plus grand et le plus petit</span><a class="headerlink" href="#exercise/11/5" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Dans le canton de Genève, il existe une tradition ancestrale: l'<a class="reference external" href="https://fr.wikipedia.org/wiki/Escalade_(Gen%C3%A8ve)">Escalade</a>. En comémoration de la victoire de la république protestante sur les troupes du duc de Savoie suite à l'attaque lancée contre Genève dans la nuit du 11 au 12 décembre 1602 (selon le calendrier julien), une traditionnelle marmite en chocolat est brisée par l'ainé et le cadet après la récitation de la phrase rituelle &quot;Ainsi périrent les ennemis de la République !&quot;.</p>
<p>Pour gagner du temps et puisque l'assemblée est grande, il vous est demandé d'écrire un programme pour identifier le doyen et le benjamin de l'assistance.</p>
<p>Un fichier contenant les années de naissance de chacun vous est donné, il ressemble à ceci:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1931
1986
1996
1981
1979
1999
2004
1978
1964
</pre></div>
</div>
<p>Votre programme sera exécuté comme suit:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> cat years.txt <span class="p">|</span> marmite
<span class="go">2004</span>
<span class="go">1931</span>
</pre></div>
</div>
</div>
<div class="exercise" id="exercise/11/6">
<p class="caption"><span class="caption-text">Exercice 11.6 L'index magique</span><a class="headerlink" href="#exercise/11/6" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Un indice magique d'un tableau <code class="docutils literal notranslate"><span class="pre">A[0..n-1]</span></code> est défini tel que la valeur <code class="docutils literal notranslate"><span class="pre">A[i]</span> <span class="pre">==</span> <span class="pre">i</span></code>. Compte tenu que le tableau est trié avec des entiers distincts (sans répétition), écrire une méthode pour trouver un indice magique s'il existe.</p>
<p>Exemple:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  0   1   2   3   4   5   6   7   8   9   10
┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐
│-90│-33│ -5│ 1 │ 2 │ 4 │ 5 │ 7 │ 10│ 12│ 14│
└───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┘
                              ^
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>c</p>
<p>Une solution triviale consite à itérer tous les éléments jusqu'à trouver l'indice magique:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">magic_index</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">array</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">const</span> <span class="kt">size_t</span> <span class="n">size</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">array</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

    <span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">size</span> <span class="o">&amp;&amp;</span> <span class="n">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">i</span><span class="p">)</span> <span class="n">i</span><span class="o">++</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">i</span> <span class="o">==</span> <span class="n">size</span> <span class="o">?</span> <span class="o">-</span><span class="mi">1</span> <span class="o">:</span> <span class="n">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>La complexité de cet algorithme est <span class="math notranslate nohighlight">\(O(n)\)</span> or, la donnée du problème indique que le tableau est trié. Cela veut dire que probablement, cette information n'est pas donnée par hasard.</p>
<p>Pour mieux se représenter le problème prenons l'exemple d'un tableau:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  0   1   2   3   4   5   6   7   8   9   10
┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐
│-90│-33│ -5│ 1 │ 2 │ 4 │ 5 │ 7 │ 10│ 12│ 14│
└───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┘
                              ^
</pre></div>
</div>
<p>La première valeur magique est <code class="docutils literal notranslate"><span class="pre">7</span></code>. Est-ce qu'une approche dichotomique est possible ?</p>
<p>Prenons le milieu du tableau <code class="docutils literal notranslate"><span class="pre">A[5]</span> <span class="pre">=</span> <span class="pre">4</span></code>. Est-ce qu'une valeur magique peut se trouver à gauche du tableau ? Dans le cas le plus favorable qui serait:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  0   1   2   3   4
┌───┬───┬───┬───┬───┐
│ -1│ 0 │ 1 │ 2 │ 3 │
└───┴───┴───┴───┴───┘
</pre></div>
</div>
<p>On voit qu'il est impossible que la valeur se trouve à gauche car les valeurs dans le tableau sont distinctes et il n'y a pas de répétitions. La règle que l'on peut poser est <code class="docutils literal notranslate"><span class="pre">A[mid]</span> <span class="pre">&lt;</span> <span class="pre">mid</span></code> où <code class="docutils literal notranslate"><span class="pre">mid</span></code> est la valeur mediane.</p>
<p>Il est possible de répéter cette approche de façon dichotomique:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">magic_index</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">array</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">_magic_index</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">array</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">_magic_index</span><span class="p">(</span><span class="kt">int</span><span class="p">[]</span> <span class="n">array</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">start</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">end</span> <span class="o">&lt;</span> <span class="n">start</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">==</span> <span class="n">mid</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">mid</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">mid</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">_magic_index</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">_magic_index</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="exercise" id="exercise/11/7">
<p class="caption"><span class="caption-text">Exercice 11.7 Détectives privés</span><a class="headerlink" href="#exercise/11/7" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Voici les dépenses de service annuelles d'un célèbre bureau de détectives privés:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 21%" />
<col style="width: 18%" />
<col style="width: 18%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"></th>
<th class="head"></th>
<th class="head"></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Janvier</p></td>
<td><p>414.38</p></td>
<td><p>222.72</p></td>
<td><p>99.17</p></td>
<td><p>153.81</p></td>
</tr>
<tr class="row-odd"><td><p>Février</p></td>
<td><p>403.41</p></td>
<td><p>390.61</p></td>
<td><p>174.39</p></td>
<td><p>18.11</p></td>
</tr>
<tr class="row-even"><td><p>Mars</p></td>
<td><p>227.55</p></td>
<td><p>73.86</p></td>
<td><p>291.08</p></td>
<td><p>416.55</p></td>
</tr>
<tr class="row-odd"><td><p>Avril</p></td>
<td><p>220.20</p></td>
<td><p>342.25</p></td>
<td><p>139.45</p></td>
<td><p>86.98</p></td>
</tr>
<tr class="row-even"><td><p>Mai</p></td>
<td><p>13.46</p></td>
<td><p>172.66</p></td>
<td><p>252.33</p></td>
<td><p>265.32</p></td>
</tr>
<tr class="row-odd"><td><p>Juin</p></td>
<td><p>259.37</p></td>
<td><p>378.72</p></td>
<td><p>173.02</p></td>
<td><p>208.43</p></td>
</tr>
<tr class="row-even"><td><p>Juillet</p></td>
<td><p>327.06</p></td>
<td><p>16.53</p></td>
<td><p>391.05</p></td>
<td><p>266.84</p></td>
</tr>
<tr class="row-odd"><td><p>Août</p></td>
<td><p>50.82</p></td>
<td><p>3.37</p></td>
<td><p>201.71</p></td>
<td><p>170.84</p></td>
</tr>
<tr class="row-even"><td><p>Septembre</p></td>
<td><p>450.78</p></td>
<td><p>9.33</p></td>
<td><p>111.63</p></td>
<td><p>337.07</p></td>
</tr>
<tr class="row-odd"><td><p>Octobre</p></td>
<td><p>434.45</p></td>
<td><p>77.80</p></td>
<td><p>459.46</p></td>
<td><p>479.17</p></td>
</tr>
<tr class="row-even"><td><p>Novembre</p></td>
<td><p>420.13</p></td>
<td><p>474.69</p></td>
<td><p>343.64</p></td>
<td><p>273.28</p></td>
</tr>
<tr class="row-odd"><td><p>Décembre</p></td>
<td><p>147.76</p></td>
<td><p>250.73</p></td>
<td><p>201.47</p></td>
<td><p>9.75</p></td>
</tr>
</tbody>
</table>
<p>Afin de laisser plus de temps aux détectives à résoudres des affaires, vous êtes mandaté pour écrire une fonction qui reçois en paramètre le tableau de réels ci-dessus formaté comme suit:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">accounts</span><span class="p">[][]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">{</span><span class="mf">414.38</span><span class="p">,</span> <span class="mf">222.72</span><span class="p">,</span>  <span class="mf">99.17</span><span class="p">,</span> <span class="mf">153.81</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span><span class="mf">403.41</span><span class="p">,</span> <span class="mf">390.61</span><span class="p">,</span> <span class="mf">174.39</span><span class="p">,</span> <span class="mf">18.11</span><span class="p">,</span>  <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span><span class="mf">227.55</span><span class="p">,</span>  <span class="mf">73.86</span><span class="p">,</span> <span class="mf">291.08</span><span class="p">,</span> <span class="mf">416.55</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span><span class="mf">220.20</span><span class="p">,</span> <span class="mf">342.25</span><span class="p">,</span> <span class="mf">139.45</span><span class="p">,</span> <span class="mf">86.98</span><span class="p">,</span>  <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span><span class="mf">13.46</span> <span class="p">,</span> <span class="mf">172.66</span><span class="p">,</span> <span class="mf">252.33</span><span class="p">,</span> <span class="mf">265.32</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span><span class="mf">259.37</span><span class="p">,</span> <span class="mf">378.72</span><span class="p">,</span> <span class="mf">173.02</span><span class="p">,</span> <span class="mf">208.43</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span><span class="mf">327.06</span><span class="p">,</span>  <span class="mf">16.53</span><span class="p">,</span> <span class="mf">391.05</span><span class="p">,</span> <span class="mf">266.84</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span><span class="mf">50.82</span> <span class="p">,</span>   <span class="mf">3.37</span><span class="p">,</span> <span class="mf">201.71</span><span class="p">,</span> <span class="mf">170.84</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span><span class="mf">450.78</span><span class="p">,</span>   <span class="mf">9.33</span><span class="p">,</span> <span class="mf">111.63</span><span class="p">,</span> <span class="mf">337.07</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span><span class="mf">434.45</span><span class="p">,</span>  <span class="mf">77.80</span><span class="p">,</span> <span class="mf">459.46</span><span class="p">,</span> <span class="mf">479.17</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span><span class="mf">420.13</span><span class="p">,</span> <span class="mf">474.69</span><span class="p">,</span> <span class="mf">343.64</span><span class="p">,</span> <span class="mf">273.28</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span><span class="mf">147.76</span><span class="p">,</span> <span class="mf">250.73</span><span class="p">,</span> <span class="mf">201.47</span><span class="p">,</span> <span class="mf">9.75</span><span class="p">,</span>   <span class="mi">0</span><span class="p">},</span>
    <span class="p">{</span>  <span class="mi">0</span><span class="p">,</span>      <span class="mi">0</span><span class="p">,</span>      <span class="mi">0</span><span class="p">,</span>    <span class="mi">0</span><span class="p">,</span>      <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Et laquelle complète les valeurs manquantes.</p>
</div>
<div class="exercise" id="exercise/11/8">
<p class="caption"><span class="caption-text">Exercice 11.8 Pot de peinture</span><a class="headerlink" href="#exercise/11/8" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>A l'instar de l'outil <em>pot de peinture</em> des éditeurs d'image, il vous est demandé d'implémenter une fonctionnalité similaire.</p>
<p>L'image est représentée par un tableau bi-dimensionnel contenant des couleurs indexées:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">typedef</span> <span class="n">enum</span> <span class="p">{</span> <span class="n">BLACK</span><span class="p">,</span> <span class="n">RED</span><span class="p">,</span> <span class="n">PURPLE</span><span class="p">,</span> <span class="n">BLUE</span><span class="p">,</span> <span class="n">GREEN</span> <span class="n">YELLOW</span><span class="p">,</span> <span class="n">WHITE</span> <span class="p">}</span> <span class="n">Color</span><span class="p">;</span>

<span class="c1">#if 0 // Image declaration example</span>
<span class="n">Color</span> <span class="n">image</span><span class="p">[</span><span class="mi">100</span><span class="p">][</span><span class="mi">100</span><span class="p">];</span>
<span class="c1">#endif</span>

<span class="n">boolean</span> <span class="n">paint</span><span class="p">(</span><span class="n">Color</span><span class="o">*</span> <span class="n">image</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">rows</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">cols</span><span class="p">,</span> <span class="n">Color</span> <span class="n">fill_color</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Indication</p>
<p>Deux approches intéressantes sont possibles: <strong>DFS</strong> (Depth-First-Search) ou <strong>BFS</strong> (Breadth-First-Search), toutes deux récursives.</p>
</div>
</div>
<div class="exercise" id="exercise/11/9">
<p class="caption"><span class="caption-text">Exercice 11.9 Mendeleïev</span><a class="headerlink" href="#exercise/11/9" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Chaque élément du taleau périodique des éléments comporte les propriétés suivantes:</p>
<ul class="simple">
<li><p>Un nom jusqu'à 20 lettres</p></li>
<li><p>Un symbole jusqu'à 2 lettres</p></li>
<li><p>Un numéro atomique de 1 à 118 (2019)</p></li>
<li><dl class="simple">
<dt>Le type de l'élément</dt><dd><ul>
<li><dl class="simple">
<dt>Métaux</dt><dd><ul>
<li><p>Alcalin</p></li>
<li><p>Alcalino-terreux</p></li>
<li><p>Lanthanides</p></li>
<li><p>Actinides</p></li>
<li><p>Métaux de transition</p></li>
<li><p>Métaux pauvres</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Métalloïdes</p></li>
<li><dl class="simple">
<dt>Non métaux</dt><dd><ul>
<li><p>Autres</p></li>
<li><p>Halogène</p></li>
<li><p>Gaz noble</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><p>La période: un entier de 1 à 7</p></li>
<li><p>Le groupe: un entier de 1 à 18</p></li>
</ul>
<p>Déclarer une structure de données permettant de stocker tous les éléments chimiques de tel facon qu'ils puissent être accédés comme:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">assert</span><span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">table</span><span class="p">.</span><span class="n">element</span><span class="p">[</span><span class="mi">6</span><span class="p">].</span><span class="n">name</span><span class="p">,</span> <span class="s">&quot;Helium&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">strcmp</span><span class="p">(</span><span class="n">table</span><span class="p">.</span><span class="n">element</span><span class="p">[</span><span class="mi">54</span><span class="p">].</span><span class="n">type</span><span class="p">,</span> <span class="s">&quot;Gaz noble&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
<span class="n">assert</span><span class="p">(</span><span class="n">table</span><span class="p">.</span><span class="n">element</span><span class="p">[</span><span class="mi">11</span><span class="p">].</span><span class="n">period</span> <span class="o">==</span> <span class="mi">3</span><span class="p">);</span>

<span class="n">Element</span> <span class="o">*</span><span class="n">el</span> <span class="o">=</span> <span class="n">table</span><span class="p">.</span><span class="n">element</span><span class="p">[</span><span class="mi">92</span><span class="p">];</span>
<span class="n">assert</span><span class="p">(</span><span class="n">el</span><span class="o">-&gt;</span><span class="n">atomic_weight</span> <span class="o">==</span> <span class="mi">92</span><span class="p">);</span>
</pre></div>
</div>
</div>
<h1>12. Les fichiers<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/12/1">
<p class="caption"><span class="caption-text">Exercice 12.1 Variantes</span><a class="headerlink" href="#exercise/12/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Considérez les deux programmes ci-dessous très similaires.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">char</span> <span class="n">texte</span><span class="p">[</span><span class="mi">80</span><span class="p">];</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Saisir un texte:&quot;</span><span class="p">);</span>
    <span class="n">gets</span><span class="p">(</span><span class="n">texte</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Texte: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">texte</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">char</span> <span class="n">texte</span><span class="p">[</span><span class="mi">80</span><span class="p">];</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Saisir un texte:&quot;</span><span class="p">);</span>
    <span class="n">fgets</span><span class="p">(</span><span class="n">texte</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="n">stdin</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Texte: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">texte</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Quelle est la différence  entre ces 2 programmes ?</p></li>
<li><p>Dans quel cas est-ce que ces programmes auront un comportement différent ?</p></li>
<li><p>Quelle serait la meilleure solution ?</p></li>
</ol>
</div>
<div class="exercise" id="exercise/12/2">
<p class="caption"><span class="caption-text">Exercice 12.2 Numéro de ligne</span><a class="headerlink" href="#exercise/12/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Écrire un programme qui saisit le nom d'un fichier texte, ainsi qu'un texte à rechercher. Le programme affiche ensuite le numéro de toutes les lignes du fichier contenant le texte recherché.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ./search
<span class="go">Fichier: foo.txt</span>
<span class="go">Recherche: bulbe</span>

<span class="go">4</span>
<span class="go">5</span>
<span class="go">19</span>
<span class="go">132</span>
<span class="go">981</span>
</pre></div>
</div>
<p>Question subsidiaire: que fait le programme suivant:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> grep foo.txt bulbe
</pre></div>
</div>
</div>
<h1>14. Pointeurs<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/14/1">
<p class="caption"><span class="caption-text">Exercice 14.1 Esperluettes cascadées</span><a class="headerlink" href="#exercise/14/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Quel est le type de:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="o">*&amp;*&amp;*&amp;*&amp;*&amp;*&amp;</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">x</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="exercise" id="exercise/14/2">
<p class="caption"><span class="caption-text">Exercice 14.2 Passage par adresse</span><a class="headerlink" href="#exercise/14/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Donnez lesvaleurs affichées par ce programme pour les variables <code class="docutils literal notranslate"><span class="pre">a</span></code> à <code class="docutils literal notranslate"><span class="pre">e</span></code>.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">test</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span> <span class="n">b</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span> <span class="n">c</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span> <span class="n">d</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">a</span> <span class="o">=</span> <span class="o">*</span><span class="n">b</span><span class="p">;</span>
    <span class="o">*</span><span class="n">b</span> <span class="o">=</span> <span class="o">*</span><span class="n">b</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
    <span class="o">*</span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">*</span><span class="n">d</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span> <span class="n">e</span> <span class="o">=</span> <span class="mi">400</span><span class="p">;</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">test</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">b</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">c</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">d</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;a:%d, b:%d, c:%d, d:%d, e:%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a:0, b:105, c:102, d:300, e:102
</pre></div>
</div>
</div>
</div>
<h1>15. Bibliothèques<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/15/1">
<p class="caption"><span class="caption-text">Exercice 15.1 Arc-cosinus</span><a class="headerlink" href="#exercise/15/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>La fonction Arc-Cosinus <code class="docutils literal notranslate"><span class="pre">acos</span></code> est-elle définie par le standard et dans quel fichier d'en-tête est-elle déclarée? Un fichier d'en-tête se termine avec l'extension <code class="docutils literal notranslate"><span class="pre">.h</span></code>.</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>En cherchant <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">acos</span> <span class="pre">header</span></code> dans Google, on trouve que la fonction <code class="docutils literal notranslate"><span class="pre">acos</span></code> est définie dans le header <code class="docutils literal notranslate"><span class="pre">&lt;math.h&gt;</span></code>.</p>
<p>Une autre solution est d'utiliser sous Linux la commande <code class="docutils literal notranslate"><span class="pre">apropos</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> apropos acos
<span class="go">acos (3)     - arc cosine function</span>
<span class="go">acosf (3)    - arc cosine function</span>
<span class="go">acosh (3)    - inverse hyperbolic cosine function</span>
<span class="go">acoshf (3)   - inverse hyperbolic cosine function</span>
<span class="go">acoshl (3)   - inverse hyperbolic cosine function</span>
<span class="go">acosl (3)    - arc cosine function</span>
<span class="go">cacos (3)    - complex arc cosine</span>
<span class="go">cacosf (3)   - complex arc cosine</span>
<span class="go">cacosh (3)   - complex arc hyperbolic cosine</span>
<span class="go">cacoshf (3)  - complex arc hyperbolic cosine</span>
<span class="go">cacoshl (3)  - complex arc hyperbolic cosine</span>
<span class="go">cacosl (3)   - complex arc cosine</span>
</pre></div>
</div>
<p>Le premier résultat permet ensuite de voir:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> man acos <span class="p">|</span> head -10
<span class="go">ACOS(3)    Linux Programmer&#39;s Manual         ACOS(3)</span>

<span class="go">NAME</span>
<span class="go">    acos, acosf, acosl - arc cosine function</span>

<span class="go">SYNOPSIS</span>
<span class="gp">    #</span>include &lt;math.h&gt;

<span class="go">    double acos(double x);</span>
<span class="go">    float acosf(float x);</span>
</pre></div>
</div>
<p>La réponse est donc <cite>&lt;math.h&gt;</cite>.</p>
<p>Sous Windows avec Visual Studio, il suffit d'écrire <code class="docutils literal notranslate"><span class="pre">acos</span></code> dans un fichier source et d'appuyer sur <code class="docutils literal notranslate"><span class="pre">F1</span></code>. L'IDE redirige l'utilisateur sur l'aide Microsoft <a class="reference external" href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/acos-acosf-acosl">acos-acosf-acosl</a> qui indique que le header source est <code class="docutils literal notranslate"><span class="pre">&lt;math.h&gt;</span></code>.</p>
</div>
</div>
<div class="exercise" id="exercise/15/2">
<p class="caption"><span class="caption-text">Exercice 15.2 Date</span><a class="headerlink" href="#exercise/15/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Lors du formatage d'une date, on y peut y lire <code class="docutils literal notranslate"><span class="pre">%w</span></code>, par quoi sera remplacé ce <em>token</em> ?</p>
</div>
<div class="exercise" id="exercise/15/3">
<p class="caption"><span class="caption-text">Exercice 15.3 Arc-cosinus</span><a class="headerlink" href="#exercise/15/3" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>La fonction Arc-Cosinus <code class="docutils literal notranslate"><span class="pre">acos</span></code> est-elle définie par le standard et dans quel fichier d'en-tête est-elle déclarée? Un fichier d'en-tête se termine avec l'extension <code class="docutils literal notranslate"><span class="pre">.h</span></code>.</p>
<div class="admonition solution">
<p class="admonition-title">Solution</p>
<p>En cherchant <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">acos</span> <span class="pre">header</span></code> dans Google, on trouve que la fonction <code class="docutils literal notranslate"><span class="pre">acos</span></code> est définie dans le header <code class="docutils literal notranslate"><span class="pre">&lt;math.h&gt;</span></code>.</p>
<p>Une autre solution est d'utiliser sous Linux la commande <code class="docutils literal notranslate"><span class="pre">apropos</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> apropos acos
<span class="go">acos (3)     - arc cosine function</span>
<span class="go">acosf (3)    - arc cosine function</span>
<span class="go">acosh (3)    - inverse hyperbolic cosine function</span>
<span class="go">acoshf (3)   - inverse hyperbolic cosine function</span>
<span class="go">acoshl (3)   - inverse hyperbolic cosine function</span>
<span class="go">acosl (3)    - arc cosine function</span>
<span class="go">cacos (3)    - complex arc cosine</span>
<span class="go">cacosf (3)   - complex arc cosine</span>
<span class="go">cacosh (3)   - complex arc hyperbolic cosine</span>
<span class="go">cacoshf (3)  - complex arc hyperbolic cosine</span>
<span class="go">cacoshl (3)  - complex arc hyperbolic cosine</span>
<span class="go">cacosl (3)   - complex arc cosine</span>
</pre></div>
</div>
<p>Le premier résultat permet ensuite de voir:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> man acos <span class="p">|</span> head -10
<span class="go">ACOS(3)    Linux Programmer&#39;s Manual         ACOS(3)</span>

<span class="go">NAME</span>
<span class="go">    acos, acosf, acosl - arc cosine function</span>

<span class="go">SYNOPSIS</span>
<span class="gp">    #</span>include &lt;math.h&gt;

<span class="go">    double acos(double x);</span>
<span class="go">    float acosf(float x);</span>
</pre></div>
</div>
<p>La réponse est donc <cite>&lt;math.h&gt;</cite>.</p>
<p>Sous Windows avec Visual Studio, il suffit d'écrire <code class="docutils literal notranslate"><span class="pre">acos</span></code> dans un fichier source et d'appuyer sur <code class="docutils literal notranslate"><span class="pre">F1</span></code>. L'IDE redirige l'utilisateur sur l'aide Microsoft <a class="reference external" href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/acos-acosf-acosl">acos-acosf-acosl</a> qui indique que le header source est <code class="docutils literal notranslate"><span class="pre">&lt;math.h&gt;</span></code>.</p>
</div>
</div>
<h1>16. Préprocesseur<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/16/1">
<p class="caption"><span class="caption-text">Exercice 16.1 is_octal</span><a class="headerlink" href="#exercise/16/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Que pensez-vous de cette définition ?</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define IS_OCTAL(c) ((c) &gt;= &#39;0&#39; &amp;&amp; (c) &lt;= &#39;8&#39;)</span>
</pre></div>
</div>
</div>
<h1>17. Algorithmes et conception<a class="headerlink" href="#exercices" title="Lien permanent vers ce titre">¶</a></h1>
<div class="exercise" id="exercise/17/1">
<p class="caption"><span class="caption-text">Exercice 17.1 </span><a class="headerlink" href="#exercise/17/1" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Quel serait l'algorithme permettant d'afficher:</p>
<p>et dont la taille peut varier ?</p>
</div>
<div class="exercise" id="exercise/17/2">
<p class="caption"><span class="caption-text">Exercice 17.2 L'entier manquant</span><a class="headerlink" href="#exercise/17/2" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>On vous donne un gros fichier de 3'000'000'000 entiers positifs 32-bits, il vous faut générer un entier qui n'est pas dans la liste. Le hic, c'est que vous n'avez que 500 MiB de mémoire de travail. Quel algorithme proposez-vous ?</p>
<p>Une fois le travail terminé, votre manager vient vous voir pour vous annoncer que le cahier des charges a été modifié. Le client dit qu'il n'a que 10 MiB. Pensez-vous pouvoir résoudre le problème quand même ?</p>
</div>
<div class="exercise" id="exercise/17/3">
<p class="caption"><span class="caption-text">Exercice 17.3 La plus petite différence</span><a class="headerlink" href="#exercise/17/3" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Soit deux tableaux d'entiers, trouver la paire de valeurs (une dans chaque tableau) ayant la plus petite différence (positive).</p>
<p>Exemple:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>int a[] = {5, 3, 14, 11, 2};
int b[] = {24, 128, 236, 20, 8};

int diff = 3 // pair 11, 8
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Proposer une implémentation</p></li>
<li><p>Quelle est la complexité de votre algorithme ?</p></li>
</ol>
</div>
<div class="exercise" id="exercise/17/4">
<p class="caption"><span class="caption-text">Exercice 17.4 Intégrateur de Kahan</span><a class="headerlink" href="#exercise/17/4" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>L'intégrateur de Kahan (<a class="reference external" href="https://en.wikipedia.org/wiki/Kahan_summation_algorithm">Kahan summation algorithm</a>) est une solution élégante pour palier à la limite de résolution des types de données.</p>
<p>L'algorithme pseudo-code peut être exprimé comme:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>function kahan_sum(input)
    var sum = 0.0
    var c = 0.0
    for i = 1 to input.length do
        var y = input[i] - c
        var t = sum + y
        c = (t - sum) - y
        sum = t
    next i
    return sum
</pre></div>
</div>
<ol class="arabic">
<li><dl>
<dt>Implémenter cet algorithme en C compte tenu du prototype:</dt><dd><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">float</span> <span class="nf">kahan_sum</span><span class="p">(</span><span class="kt">float</span> <span class="n">value</span><span class="p">,</span> <span class="kt">float</span> <span class="n">sum</span><span class="p">,</span> <span class="kt">float</span> <span class="n">c</span><span class="p">);</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><p>Expliquer comment fonctionne cet algorithme.</p></li>
<li><p>Donner un exemple montrant l'avantage de cet algorithme sur une simple somme.</p></li>
</ol>
</div>
<div class="exercise" id="exercise/17/5">
<p class="caption"><span class="caption-text">Exercice 17.5 Robot aspirateur affamé</span><a class="headerlink" href="#exercise/17/5" title="Lien permanent vers cet exercice">¶</a></span></p>
<p>Un robot aspirateur souhaite se rassasier et cherche le frigo, le problème c'est qu'il ne sait pas où il est. Elle serait la stratégie de recherche du robot pour se rendre à la cuisine ?</p>
<p>Le robot dispose de plusieurs fonctionnalités:</p>
<ul class="simple">
<li><p>Avancer</p></li>
<li><p>Tourner à droite de 90°</p></li>
<li><p>Détection de sa position absolue p.ex. <code class="docutils literal notranslate"><span class="pre">P5</span></code></p></li>
</ul>
<p>Élaborer un algorithme de recherche.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  │ A │ B │ C │ D │ E │ F │ G │ H │ I │ J │ K │ L │ M │ O │ P │ Q │
──┏━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┓
1 ┃                     x ┃       ┃               ┃               ┃
──┃             F1: Frigo ┃       ┃               ┃               ┃
2 ┃       ┃               ┃       ┃               ┃               ┃
──┃       ┃               ┃       ┃               ┃               ┃
3 ┃       ┃               ┃       ┃               ┃               ┃
──┃       ┃               ┃       ┃               ┃               ┃
4 ┃       ┃               ┃       ┃               ┃               ┃
──┃       ┃               ┃       ┃               ┃               ┃
5 ┃       ┃               ┃       ┃               ┃      &lt;--o     ┃
──┃       ┣━━━━━━━   ━━━━━┫       ┃               ┃     P5: Robot ┃
6 ┃       ┃               ┃       ┃               ┃               ┃
──┃       ┃               ┃       ┃               ┃               ┃
7 ┃                       ┃       ┃               ┃               ┃
──┃                       ┃       ┃               ┃               ┃
8 ┃       ┃               ┃       ┃               ┃               ┃
──┣━━━━━━━┻━━━━━━━    ━━━━┛   ━━━━┛   ━━━━━━━━━━━━┛   ━━━━┳━━━━━━━┫
9 ┃                                                       ┃       ┃
──┃                                                       ┃       ┃
10┃                                                               ┃
──┃                                                               ┃
11┃                                                       ┃       ┃
──┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┻━━━━━━━┛
</pre></div>
</div>
</div>
</div>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
</ul><div class="footer" role="contentinfo">
      &#169; Copyright HEIG-VD(c) 2019.
    Mis à jour le 01 nov. 2019 (version 0.2.0-2-g5c41ba3).
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1 with <a href="https://github.com/heig-vd-tin/sphinx_heigvd_theme">HEIG-VD Theme</a>.
</div>
            </div>
          </div>
      </page>
    </div>
    
    
  </body>
</html>